var Du=Object.defineProperty,cu=Object.defineProperties;var Au=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var du=Object.prototype.hasOwnProperty,pu=Object.prototype.propertyIsEnumerable;var L=(o,F,e)=>F in o?Du(o,F,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[F]=e,_=(o,F)=>{for(var e in F||(F={}))du.call(F,e)&&L(o,e,F[e]);if(G)for(var e of G(F))pu.call(F,e)&&L(o,e,F[e]);return o},I=(o,F)=>cu(o,Au(F));var m=(o,F,e)=>(L(o,typeof F!="symbol"?F+"":F,e),e);import{d as M,u as fu,a as hu,r as p,o as A,c as d,b as u,F as g,e as J,n as P,t as C,f as l,g as n,w as B,h as E,i as w,j as K,k as _u,l as O,m as Y,p as U,q as Q,s as Z,v as uu,x as b,y as j,z as eu,_ as N,A as mu,B as gu,M as Fu,C as vu,D as bu,E as Iu,G as wu,H as $u,I as yu,J as ku,K as Su,L as Pu,N as xu,O as Mu}from"./vendor.4fdce9cd.js";const Ku=function(){const F=document.createElement("link").relList;if(F&&F.supports&&F.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}};Ku();const Xu="_sidebar_1kt7a_1",Vu="_menuWrapper_1kt7a_13",ju="_current_1kt7a_28",qu="_menu_1kt7a_13",Ru="_subMenu_1kt7a_56";var Lu={sidebar:Xu,menuWrapper:Vu,current:ju,menu:qu,subMenu:Ru},X=(o,F)=>{for(const[e,a]of F)o[e]=a;return o};const Ou={name:"Sidebar"};function Uu(o){const F=o;fu(t=>({"9ea379e8":F.inDrawer?"none":"block",d4896294:F.inDrawer?"block":"none"}));const e=hu(),a=[{name:"\u524D\u8A00",children:[{name:"\u5199\u5728\u6700\u524D",path:"/"},{name:"hooks",path:"/hooks"},{name:"swr",path:"/swr"},{name:"swr-store",path:"/swr_store"},{name:"\u5199\u5728\u6700\u540E",path:"/introduce_end"}]},{name:"\u4F7F\u7528",children:[{name:"\u6258\u7BA1\u8FDC\u7AEF\u6570\u636E",path:"/usage_basic"},{name:"\u8FDC\u7AEF\u6570\u636E\u7684\u4F9D\u8D56\u53D6\u6570",path:"/usage_dependent"},{name:"\u6258\u7BA1\u7EAF\u7CB9\u8BF7\u6C42",path:"/usage_manual"},{name:"\u9519\u8BEF\u91CD\u8BD5",path:"/usage_error_retry"},{name:"\u7F13\u5B58\u8FC7\u6E21\u3001\u9519\u8BEF\u5904\u7406",path:"/usage_ux"}]},{name:"\u601D\u8003"}];return(t,s)=>{const r=p("router-link");return A(),d("div",{class:P(t.$style.sidebar)},[u("ul",{class:P(t.$style.menuWrapper)},[(A(),d(g,null,J(a,i=>(A(),d(g,null,[u("li",{class:P([t.$style.menu])},C(i.name),3),(A(!0),d(g,null,J(i.children,h=>(A(),d("li",{class:P([t.$style.subMenu,{[t.$style.current]:l(e).path===h.path}])},[n(r,{to:h.path},{default:B(()=>[E(C(h.name),1)]),_:2},1032,["to"])],2))),256))],64))),64))],2)],2)}}const Nu=M(I(_({},Ou),{props:{inDrawer:{type:Boolean,required:!0}},setup:Uu})),Eu={};Eu.$style=Lu;var tu=X(Nu,[["__cssModules",Eu]]);const Wu="_header_75c6v_1",Hu="_title_75c6v_21",Tu="_drawer_btn_75c6v_30";var zu={header:Wu,title:Hu,drawer_btn:Tu};const Gu={name:"Header"};function Ju(o){let F=w(!1);return(e,a)=>{const t=p("el-drawer");return A(),d(g,null,[u("header",{class:P(e.$style.header)},[u("span",{class:P(e.$style.title)},"SwrStore in Vue(\u4E00\u79CD vue3 \u4E0B\u6B63\u4EA4\u7684\u6570\u636E\u7BA1\u7406\u6A21\u5F0F\u7684\u5C1D\u8BD5)",2),u("button",{class:P(e.$style.drawer_btn),onClick:a[0]||(a[0]=s=>F.value=!F.value)},C(F.value?"\u5173\u95ED":"\u6253\u5F00")+"\u76EE\u5F55",3)],2),n(t,{modelValue:F.value,"onUpdate:modelValue":a[1]||(a[1]=s=>F.value=s),direction:"ltr","with-header":!1},{default:B(()=>[n(tu,{inDrawer:!0})]),_:1},8,["modelValue"])],64)}}const Yu=M(I(_({},Gu),{setup:Ju})),su={};su.$style=zu;var Qu=X(Yu,[["__cssModules",su]]);const Zu="_main_pr6ma_1";var u5={main:Zu};const e5={name:"App",components:{Header:Qu,Sidebar:tu}};function F5(o,F,e,a,t,s){const r=p("Header"),i=p("Sidebar"),h=p("router-view");return A(),d(g,null,[n(r),n(i,{inDrawer:!1}),u("div",{class:P(o.$style.main)},[n(h)],2)],64)}const ou={};ou.$style=u5;var E5=X(e5,[["render",F5],["__cssModules",ou]]);const t5={name:"StorePage"},s5=K('<h2>\u5199\u5728\u6700\u540E</h2><p>\u5199\u5B8C\u8FD9\u4E2A\u9879\u76EE\uFF0C\u6211\u53BBnpm\u641C\u4E86\u4E0Bswr-store...\u5C45\u7136\u5DF2\u7ECF\u6709\u4EBA\u5199\u8FC7\u4E86\u3002\u53EF\u60DC\u4ED6\u5199\u7684\u53EA\u662Freact\u4E0B\u7684swr\u7684store\u5316\u3002\u8865\u4E0AuseRequest\u7684\u5185\u5BB9\uFF0C\u518D\u52A0\u4E0Areact\u4E0B\u72EC\u7ACB\u7684store effect\uFF0C\u5C31\u662F\u6211\u8981\u7684\u4E1C\u897F\u4E86\u3002</p><p>store effct\u53EF\u80FD\u4F1A\u662F\u8D8B\u52BF\uFF0C\u786E\u5B9E\u5F97\u6709\u4E2Astore\u7EA7\u7684effect\u624D\u80FD\u5F7B\u5E95\u628A\u4E1A\u52A1\u903B\u8F91\u4ECE\u89C6\u56FE\u4E2D\u62BD\u79BB\u51FA\u6765\u3002</p><p> \u53EF\u4EE5\u770B\u770B<a href="https://recoiljs.org/" target="_blank">recoil</a>\u7684 <a href="https://recoiljs.org/docs/guides/atom-effects" target="_blank">atom effects(\u5B9E\u9A8C\u6027\u8D28)</a>\u3002 \u6216\u8005<a href="https://github.com/pmndrs/zustand" target="_blank">zustand</a>\u3001<a href="https://github.com/pmndrs/valtio" target="_blank">valtio</a>\u7684subscribe\u3002 </p><br><p>\u5982\u679C\u662F\u5728react\u4E0B\uFF0C\u6211\u4F1A\u9009\u62E9\u76F4\u63A5\u7528recoil\u800C\u4E0D\u662F\u641E\u8FD9\u8001\u4E9B\u2026\u2026</p>',6);function o5(o,F,e,a,t,s){return s5}var a5=X(t5,[["render",o5]]);const r5=K('<h2>hooks\u5E26\u6765\u7684\u53E6\u4E00\u9762 -- \u9762\u5411\u4E1A\u52A1\u7F16\u7A0B</h2><p>\u54EA\u6015\u662Fvue\u7684composition api\uFF0C\u9762\u4E16\u81F3\u4ECA\u4E5F\u67091\u5E74\u591A\u4E86\uFF0C\u5728\u8FD9\u91CC\u6211\u5E76\u4E0D\u60F3\u518D\u53BB\u590D\u8FF0\u4E00\u904D\u5176\u4F18\u52A3\u70B9\u3002</p><p>\u6211\u60F3\u804A\u7684\u662F\u4E00\u4E2A\u6F5C\u79FB\u9ED8\u5316\u7684\uFF0C\u6216\u8BB8\u4F60\u5DF2\u7ECF\u4E0D\u81EA\u89C9\u63A5\u53D7\uFF0C\u6216\u8BB8\u8FD8\u672A\u66FE\u6E05\u6670\u6293\u4F4F\u7684\u70B9\u3002</p><p>\u73B0\u5728\uFF0C\u8BF7\u8BD5\u8BD5\u8DDF\u7740\u4E0B\u9762\u7684\u95EE\u9898\u601D\u8003\u3002</p><h3>\u4F60\u662F\u5426\u6709\u5C1D\u8BD5\u8FC7\u628A\u529F\u80FD/\u4E1A\u52A1\u903B\u8F91\u4ECE\u89C6\u56FE\u5C42\u4E2D\u62BD\u79BB\u51FA\u6765?</h3><p>\u5927\u591A\u6570\u4EBA\u5E94\u8BE5\u90FD\u80FD\u7ED9\u51FA\u80AF\u5B9A\u7684\u56DE\u7B54\u3002\u53EF\u80FD\u662F\u4E3A\u4E86\u590D\u7528\u903B\u8F91\uFF0C\u4E5F\u53EF\u80FD\u662F\u51FA\u4E8E\u4F7F\u89C6\u56FE\u5C42\u7EAF\u7CB9\u6B63\u4EA4\u7684\u7406\u5FF5\uFF0C\u53CD\u6B63\u90FD\u4F1A\u8FD9\u4E48\u53BB\u505A\u3002</p><p> \u4ECE\u66F4\u53E4\u8001\u7684react hoc / vue mixin\u7684\u7EE7\u627F\u5F0F\uFF0C\u5230\u5982\u4ECAhooks\u7684\u7EC4\u5408\u5F0F\uFF0C\u8D8A\u6765\u8D8A\u591A\u7684\u4EBA\u3001\u56E2\u961F\u5728\u5B9E\u8DF5\u7740\u3002 (\u7279\u63D0\u4E00\u4E0B<a href="https://github.com/acdlite/recompose" target="_blank">react\u7684recompose</a>\uFF0C\u6B64\u9053\u5148\u9A71\uFF0C\u4F5C\u8005\u52A0\u5165\u4E86react\u56E2\u961F\u4E00\u8D77\u641E\u4E86hooks\u3002) </p><p> \u8FD9\u4E48\u505A\u7684\u7406\u7531\u4E5F\u5F88\u7B80\u5355\uFF0C\u8C01\u4E5F\u4E0D\u60F3\u628A\u6240\u6709\u7684\u4EE3\u7801\u90FD\u5806\u5230\u4E00\u4E2A\u6587\u4EF6\u91CC\uFF0C\u5939\u6742\u7740\u5404\u79CD\u5404\u6837\u7684\u903B\u8F91\u3001\u89C6\u56FE\uFF0C\u91CD\u590D\u3001\u6DF7\u4E71\uFF0C\u751A\u81F3\u4E8E\u5806\u4E0A\u597D\u51E0\u5343\u884C\u3002 (\u6211\u4EEC\u90FD\u77E5\u9053\u73B0\u4EE3js\u6846\u67B6\u6DF1\u53D7MVVM\u7684\u5F71\u54CD\uFF0C\u4F46\u662F\u4E0D\u77E5\u9053\u4F60\u4EEC\u662F\u5426\u77E5\u6653\uFF0CMVVM\u63D0\u51FA\u7684\u4E00\u4E2A\u521D\u8877\uFF0C\u5C31\u662F\u5C06\u89C6\u56FE\u5C42\u4E0E\u903B\u8F91\u5C42\u5F7B\u5E95\u5206\u5F00\uFF0C\u7136\u540E<b>\u8BA9\u8BBE\u8BA1\u5E08\u6765\u5207\u56FE</b>\u3002) </p><p>\u867D\u7136\u8FD9\u4E00\u7406\u5FF5\u65E9\u5DF2\u6709\u4E4B\uFF0C\u4F46\u662F\u771F\u6B63\u5927\u884C\u5176\u9053\u5F97\u5230\u8D8A\u6765\u8D8A\u591A\u7684\u8BA4\u53EF\uFF0C\u8FD8\u662F\u81EAhooks\u4EE5\u540E(\u7EC4\u5408\u771F\u662F\u592A\u9999\u4E86)\u3002\u6240\u4EE5\u8FD9\u4E00\u9875\u56F4\u7ED5hooks\u5C55\u5F00\u3002</p><br><p>\u63A5\u7740\uFF0C\u628A\u8FD9\u4E2A\u95EE\u9898\u53BB\u6389\u4E00\u534A\u518D\u7EC6\u5206\u4E00\u4E0B\uFF0C\u8BF7\u770B\u4E0B\u4E00\u95EE:</p><h3>\u4F60\u662F\u5426\u6709\u5C1D\u8BD5\u8FC7\u628A\u4E1A\u52A1\u903B\u8F91\u4ECE\u89C6\u56FE\u5C42\u4E2D\u62BD\u79BB\u51FA\u6765?</h3><p>\u8FD9\u4E2A\u95EE\u9898\u5E94\u8BE5\u80FD\u7B5B\u6389\u633A\u591A\u4EBA\u3001\u56E2\u961F\u4E86\u3002hooks\u5DF2\u7ECF\u8BF4\u70C2\u4E86\u7684\u4ECA\u5929\uFF0C\u5C31\u7B97\u6CA1\u7528\u8FC7\uFF0C\u4E5F\u5E94\u8BE5\u89C1\u8FC7\u5404\u4E2A\u6559\u7A0B\u3001lib\u3001ui\u6846\u67B6\u628A\u901A\u7528\u7684\u529F\u80FD\u903B\u8F91\u3001DOM\u7C7B\u903B\u8F91\u62BD\u79BB\u6210hooks\u3002</p><p>\u4F46\u662F\u4E1A\u52A1\u903B\u8F91\u8FD8\u771F\u662F\u672A\u5FC5\u3002\u8FD9\u9700\u8981\u56E2\u961F\u91CC\u7684\u6210\u5458\u90FD\u8BA4\u53EF\u6B63\u4EA4\u7684\u7406\u5FF5\uFF0C\u5E76\u4E14\u5BF9\u4E1A\u52A1\u719F\u6089\u7A0B\u5EA6\u7684\u8981\u6C42\u6BD4\u585E\u5728\u4E00\u8D77\u5199\u9AD8\u3002</p><p>\u5982\u679C\u4E0D\u80FD\u7ED9\u51FA\u80AF\u5B9A\u7684\u56DE\u7B54\uFF0C\u4E5F\u6CA1\u5173\u7CFB\u3002\u5148\u505C\u5728\u8FD9\u91CC\u60F3\u8C61\u7740\u56DE\u7B54\u4E00\u4E0B \u4E0B\u4E00\u4E2A\u95EE\u9898:</p><br><h3>\u7528hooks\u62BD\u79BB\u529F\u80FD/\u4E1A\u52A1\u903B\u8F91\uFF0C\u4F60\u662F\u5982\u4F55\u7EC4\u7EC7\u4EE3\u7801/\u76EE\u5F55\u7684\uFF1F</h3><p>\u6CA1\u80FD\u4E00\u77AC\u95F4\u60F3\u51FA\u6765\uFF1F\u592A\u5BF9\u4E86\uFF0C\u8FD9\u4E2A\u95EE\u9898\u5176\u5B9E\u5F88\u5BBD\u6CDB\u3002</p><p>\u4E5F\u8BB8\u4F60\u5DF2\u7ECF\u80FD\u7ED9\u51FA\u7B54\u6848\u3002\u522B\u6025\uFF0C\u8FD8\u6709\u884D\u751F\u7684\u95EE\u9898\u3002\u7ED3\u5408\u4E0B\u9762\u4E24\u4E2A\u95EE\u9898\u4E00\u8D77\u60F3\u60F3</p><h3>\u4F60\u662F\u5982\u4F55\u7EC4\u7EC7\u591A\u9875\u9762\u901A\u7528\u4E1A\u52A1\u903B\u8F91\u4EE3\u7801\u4E0E\u4EC5\u7528\u5728\u4E00\u5904\u7684\u4E1A\u52A1\u903B\u8F91\u4EE3\u7801\u7684\uFF1F</h3><h3>\u4F60\u662F\u600E\u4E48\u5C06store\u4E0E\u4E1A\u52A1\u903B\u8F91hooks\u7ED3\u5408\u7684\uFF1F</h3><br><p>\u5982\u679C\u4F60\u80FD\u5BF9\u8FD9\u4E09\u4E2A\u95EE\u9898\u505A\u51FA\u4F18\u96C5\u89E3\u7B54\uFF0C\u4F60\u3001\u4F60\u6240\u5728\u7684\u56E2\u961F\u5199\u7684\u4EE3\u7801\u5FC5\u7136\u4E0D\u4F1A\u4E71\u3002</p><p>\u6211\u5C1D\u8BD5\u7ED9\u51FA\u4E00\u79CD\u89E3\u7B54(\u4EE5\u6211\u53F8\u4E00\u4E2A\u8D26\u6237-\u6863\u6848-\u4EA7\u54C1\u7EA7\u7684sass\u9879\u76EE\u4E3A\u4F8B)\u3002</p><p>\u9996\u5148\uFF0C\u5F97\u6709\u4E00\u4E2A&quot;hooks&quot;\u76EE\u5F55\u3002\u91CC\u9762\u5E76\u4E0D\u653E\u4E1A\u52A1\u903B\u8F91\u7C7Bhooks\uFF0C\u800C\u662F\u901A\u7528\u670D\u52A1(service\uFF0C\u5982\u7B2C\u4E09\u65B9\u6C9F\u901A\u7A97\u53E3\u63D2\u4EF6\u3001\u57CB\u70B9\u7B49)\u3001\u901A\u7528DOM\u64CD\u4F5C(utils)\u7C7B\u7684hooks\uFF0C\u6211\u63A8\u5D07\u628A\u5B83\u4EEC\u62C6\u5206\u4E3A\u4E24\u4E2A\u5B50\u76EE\u5F55\u3002\u4E4B\u6240\u4EE5\u53EB&quot;hooks&quot;\u2026\u2026\u56E0\u4E3A\u5404\u4E2Alib\u90FD\u662F\u8FD9\u4E48\u53EB\u3002</p><p>\u7136\u540E\u5F97\u6709\u4E2A&quot;models&quot;\u76EE\u5F55\uFF0C\u91CC\u9762\u5B58\u653E\u901A\u7528\u7684\u4E1A\u52A1\u903B\u8F91\u7C7Bhooks\u3002\u4E4B\u6240\u4EE5\u53EB&quot;models&quot;\uFF0C\u56E0\u4E3A\u5B83\u5F52\u5C5E\u4E8EMVVM\u4E2D\u7684model\u5C42\u3002\u4E5F\u8BB8\u6709\u4EBA\u4F1A\u559C\u6B22\u628A\u8FD9\u4E2A\u76EE\u5F55\u653E\u8FDB&quot;hooks&quot;\u4E2D\u4F5C\u4E3A\u5B50\u76EE\u5F55\uFF0C\u6211\u89C9\u5F97\u4E0D\u592A\u6070\u5F53\uFF0C\u5B83\u7684\u7EA7\u522B\u66F4\u9AD8\u3002</p><p>\u540C\u65F6\uFF0C<b>\u5F97\u6539\u53D8\u6389\u590D\u6742Modal\u653E\u8FDBview\u5C42\u4E2D\u7684\u601D\u7EF4</b>\uFF0C\u5199\u4E00\u4E2A\u652F\u6301\u590D\u6742\u7EC4\u4EF6\u7684\u53EF\u4EE5\u76F4\u63A5\u5728js\u4E2D\u8C03\u7528\u7684Modal\u7EC4\u4EF6, \u624D\u80FD\u628A\u6240\u6709\u7684\u4E1A\u52A1\u903B\u8F91\u79FB\u5230models\u4E2D\u5F7B\u5E95\u4E0Eview\u5C42\u89E3\u8026\u3002\u6211\u66F4\u503E\u5411\u4E8E\u5C06\u8FD9\u79CDModal\u770B\u505A\u5F52\u5C5E\u4E8E\u4E1A\u52A1\u7684\u4E00\u90E8\u5206\u800C\u4E0D\u662F\u89C6\u56FE\u5C42\u7684\u4E00\u90E8\u5206\u3002</p>',27),n5=u("p",null,'"pages"\u4E2D\u6BCF\u4E2A\u9875\u9762\u4E5F\u9700\u8981\u6709\u81EA\u8EAB\u7684"models"\u5B58\u653E\u53EA\u5B58\u5728\u8FD9\u4E2A\u9875\u9762\u7684\u4E1A\u52A1\u903B\u8F91\u3002',-1),l5=u("p",null,'\u5F53\u7136\u4E5F\u5F97\u6709\u4E2A"store"\u5B58\u653E\u6570\u636E\u4EE5\u53CA\u53D8\u66F4\u6570\u7684\u636E\u65B9\u5F0F\u3002models\u4E2D\u7684useXXX\u4E1A\u52A1hooks\u7B2C\u4E00\u6B65\uFF0C\u5C31\u662F\u4ECEstore\u4E2D\u53D6\u6570\u636E\u3002\u7406\u6240\u5E94\u5F53\u7684\uFF0Cstore\u5E94\u8BE5\u7EF4\u6301\u4E0Emodels\u7C7B\u4F3C\u7684\u6309\u4E1A\u52A1\u5206\u5C42\u7ED3\u6784\u3002',-1),C5=u("p",null,"\u5982\u679C\u6253\u7B97\u5206\u5C42\u5230\u5E95\uFF0C\u8FD8\u6709\u4E2Aapis\u4E5F\u5F97\u7EF4\u6301\u7740\u540C\u6837\u7684\u7ED3\u6784\u3002",-1),i5=u("p",null,"\u76EE\u5F55\u7ED3\u6784\u5927\u81F4\u89C1\u4E0B:",-1),B5=K('<br><h3>\u7167\u8FD9\u4E48\u505A\u4E0B\u6765\uFF0C\u80FD\u5F97\u5230\u4EC0\u4E48\u597D\u5904?</h3><p>\u663E\u800C\u6613\u89C1\u7684: \u4EE3\u7801\u7ED3\u6784\u53D8\u4E86\uFF0C\u89C6\u56FE\u5C42\u4E0E\u4E1A\u52A1\u903B\u8F91\u5F7B\u5E95\u6B63\u4EA4\u3002(\u4E5F\u8BB8\u4F1Acss\u7684\u8BBE\u8BA1\u5E08\u771F\u7684\u80FD\u72EC\u7ACB\u5B8C\u6210\u5207\u56FE\u5DE5\u4F5C\u4E86\u3002)</p><p>\u591A\u4E86\u5F88\u591A\u76EE\u5F55\uFF0C\u4F46\u662F\u5206\u5C42\u540E\u6BCF\u4E2A\u6587\u4EF6\u7684\u4EE3\u7801\u91CF\u90FD\u5F97\u5230\u63A7\u5236\uFF0C\u91CD\u590D\u4EE3\u7801\u5E94\u8BE5\u4E5F\u5C11\u4E86\u3002\u4F1A\u66F4\u5BB9\u6613\u7EF4\u62A4\uFF0C\u66F4\u5BB9\u6613\u8BA9\u540E\u6765\u7684\u4EBA\u4E0A\u624B\uFF0C\u66F4\u5BB9\u6613\u5B9A\u4F4D\u95EE\u9898\u3002</p><p>\u8FD9\u4E9B\u662F\u660E\u9762\u4E0A\u7684\u597D\u5904\uFF0C\u800C\u6211\u4E2A\u4EBA\u8BA4\u4E3A\u7684\u66F4\u5927\u6536\u76CA\uFF0C\u4E5F\u5C31\u662F\u5F00\u5934\u8BF4\u7684\u6F5C\u79FB\u9ED8\u5316\u7684\u90A3\u4E2A\u70B9: </p><p><b>\u4F60\u770B\u5F85\u9879\u76EE\u7684\u601D\u8003\u65B9\u5F0F\uFF0C\u4F60\u5199\u4EE3\u7801\u7684\u5FC3\u667A\u6A21\u578B\u53D8\u4E86\u3002</b> \u62BD\u79BB\u4E4B\u524D\uFF0C\u4F60\u7684\u601D\u8003\u65B9\u5F0F\u5927\u6982\u662F\u8FD9\u6837\u5B50: \u8FD9\u4E2A\u9875\u9762\u4E0A\u8BE5\u5C55\u793A\u4E1C\u897F\uFF0C\u70B9\u51FB\u3001\u64CD\u4F5C\u4F1A\u53D1\u751F\u4EC0\u4E48 -- \u504F\u5411\u4E8E\u8FC7\u7A0B\uFF0C\u6563\u800C\u4E71\u3002 \u62BD\u79BB\u4E4B\u540E: \u4EE3\u8868\u8FD9\u4E2A\u4E1A\u52A1\u7684\u6570\u636E\u4EE5\u53CA\u5176\u6D3E\u751F\u662F\u600E\u4E48\u6837\u7684\uFF0C\u5B83\u4F1A\u4EA7\u751F\u600E\u4E48\u6837\u7684\u53D8\u5316\u3001\u5B83\u4F1A\u4E0E\u5176\u4ED6\u54EA\u4E9B\u4E1A\u52A1\u4EA4\u7EC7\u2026\u2026 </p><p>\u8FD9\u6B63\u662F\u672C\u9875\u6807\u9898\u60F3\u8868\u8FBE\u7684: <b>\u7528hooks\u62BD\u79BB\u4E1A\u52A1\u903B\u8F91\uFF0C\u601D\u8003\u4E13\u6CE8\u70B9\u3001\u7EC4\u7EC7\u4EE3\u7801\u7684\u91CD\u5FC3\u4F1A\u81EA\u7136\u800C\u7136\u5730\u805A\u7126\u5230\u5177\u4F53\u7684\u4E1A\u52A1\u4E0A\u3002</b></p><p>\u6211\u60F3\uFF0C\u54EA\u6015\u662F\u4E2A\u5BF9\u4E8E\u53EA\u60F3\u5B89\u5B89\u9759\u9759\u5199\u4EE3\u7801\u7684\u5207\u56FE\u4ED4\uFF0C\u5149\u8FD9\u4E00\u70B9\u4E5F\u503C\u5F97\u53BB\u5C1D\u8BD5\u5B9E\u8DF5\u7528hooks\u62BD\u79BB\u4E1A\u52A1\u903B\u8F91\u3002\u591A\u5173\u5FC3\u70B9\u4E1A\u52A1\u603B\u5F52\u662F\u597D\u7684\u3002</p><br><h3>\u6240\u4EE5\u8FD9\u4E00\u5957\u7EC4\u5408\u62F3\u4E0B\u6765\uFF0C\u9879\u76EE\u591F\u5206\u5C42\u4E86\u5417\uFF1F\u505A\u5230\u6B63\u4EA4\u4E86\u5417\uFF1F\u53EF\u7EF4\u62A4\u6027\u9AD8\u4E86\u5417\uFF1F</h3><p>\u6211\u60F3\u5927\u62B5\u662F\u591F\u4E86\u3002<b>\u4F46\u662F\uFF0C\u8FD8\u662F\u6709\u7740\u633A\u5927\u7684\u5FC3\u667A\u8D1F\u62C5\u3002</b></p><p>\u4E3A\u4EC0\u4E48\u8FD9\u4E48\u8BF4\u5462\uFF1F\u56E0\u4E3A<b>store(\u4EE5\u53CA\u53EF\u80FD\u7684apis)\u5206\u6563\u4E86\u4E1A\u52A1\u903B\u8F91\u7684\u6570\u636E\u5B58\u53D6\u8FD9\u4E00\u8FC7\u7A0B\u3002</b>\u53D6\u6570\u8FC7\u7A0B(loading)\u4E0E\u89C6\u56FE\u4EE3\u7801\u5C42\u6B63\u4EA4\uFF0C\u9519\u8BEF\u5904\u7406(ErrorBoundary)\u4E0E\u89C6\u56FE\u5C42\u4EE3\u7801\u6B63\u4EA4 \u8FD9\u4E24\u4E2A\u95EE\u9898\u4E5F\u6CA1\u6709\u89E3\u51B3\u3002</p><p> \u4E3A\u4E86\u505A\u5230\u8DE8\u7EC4\u4EF6\u5171\u4EAB\u6570\u636E\uFF0C\u6211\u4EEC\u4E0D\u5F97\u4E0D\u6709\u4E00\u4E2Astore\u53BB\u5B58\u653E\u6570\u636E\u3002 \u4E3A\u4E86\u4E00\u81F4\u7684\u3001\u6E05\u6670\u7684\u903B\u8F91\u5206\u5C42\uFF0Cstore\u5F97\u7EF4\u6301\u4E0Emodels\u76F8\u4F3C\u7684\u7ED3\u6784, \u53EF\u80FD\u91CC\u9762\u5B58\u7684\u6570\u636E\u7C7B\u578B\u5B9A\u4E49\u8FD8\u5F97\u5355\u5F00\u4E00\u4E2A\u6587\u4EF6\u3002 </p><p>\u5728hooks\u62BD\u79BB\u4E1A\u52A1\u903B\u8F91\u7684\u5FC3\u667A\u6A21\u578B\u4E0B\uFF0C\u6211\u4EEC\u7684\u4E13\u6CE8\u70B9\u8F6C\u79FB\u5230\u4E86\u67D0\u4E00\u5177\u4F53\u4E1A\u52A1\u4E0A\u3002\u53EF\u662F\u73B0\u5728\uFF0Cstore\u53C8\u628A\u5B83\u5206\u6563\u6210\u4E86\u4E24\u5904\u3002</p><p>\u6240\u4EE5\uFF0C\u6709\u529E\u6CD5\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u628A\u5B83\u4EEC\u518D\u6B21\u878D\u5408\u5728\u4E00\u8D77\u5417\uFF1F</p><p> \u5F53\u7136\u53EF\u4EE5\uFF01 \u5E76\u4E0D\u662F\u628Amodels\u7684\u5185\u5BB9\u548Cstore\u76EE\u5F55\u5F3A\u884C\u653E\u5728\u4E00\u8D77\u8FD9\u79CD\u9ED1\u9B54\u6CD5\u3002 </p><p>\u800C\u662F -- <a href="https://github.com/vercel/swr" target="_blank">swr</a>(react) / <a href="https://github.com/Kong/swrv" target="_blank">swrv</a>(vue)\u3002</p>',17),D5=E("\u8BF7\u770B\u4E0B\u4E00\u9875 "),c5=E("swr -- \u4E5F\u8BB8\u6211\u4EEC\u5E76\u4E0D\u9700\u8981store"),A5=E("\u3002"),d5={name:"StorePage"};function p5(o){const F=[{id:"hooks",label:"hooks (\u975E\u4E1A\u52A1\u7C7Bhooks)",children:[{id:"hooks/service",label:"service",children:[{id:"hooks/service/useContactUS",label:"useContactUS(\u70B9\u51FB\u5F39\u6846\u663E\u793A\u8054\u7CFB\u6211\u4EEC)"},{id:"hooks/service/useTrack",label:"useTrack(\u57CB\u70B9)"}]},{id:"hooks/utils",label:"utils",children:[{id:"hooks/service/useMeasure",label:"useMeasure(\u6D4B\u91CFDOM\u5C3A\u5BF8)"},{id:"hooks/service/useBacktop",label:"useBacktop(\u70B9\u51FB\u5143\u7D20\u56DE\u5230\u9876\u90E8)"}]}]},{id:"models",label:"models",children:[{id:"models/account",label:"account",children:[{id:"useSign",label:"useSign"},{id:"useAccountInfo",label:"useAccountInfo"},{id:"useProfiles",label:"useProfiles"},{id:"useCreateProfile",label:"useCreateProfile"}]},{id:"models/profile",label:"profile",children:[{id:"useCurrentProfileInfo",label:"useCurrentProfileInfo"},{id:"useActiveProduct",label:"useActiveProduct"},{id:"useChangeProfile",label:"useChangeProfile"}]},{id:"models/product",label:"product",children:[{id:"useUsageInfo",label:"useUsageInfo"},{id:"useChangeProduct",label:"useChangeProduct"}]}]},{id:"pages",label:"pages",children:[{id:"pages/profile_list",label:"profile_list",children:[{id:"pages/profile_list/index.vue",label:"index.vue"},{id:"pages/profile_list/models",label:"models",children:[{label:"useXXX"}]}]}]},{id:"store",label:"store"},{id:"apis",label:"apis"},{id:"router",label:"router"},{id:"assets",label:"assets"},{id:"components",label:"components"},{id:"utils",label:"utils"}];return(e,a)=>{const t=p("prism"),s=p("el-tree"),r=p("router-link");return A(),d(g,null,[r5,n(t,{language:"javascript"},{default:B(()=>[E(C(`// \u4E00\u822C\u60C5\u51B5 \u4EE5antd modal\u4E3A\u4F8B
// -- pages/xx
function SomePage() {
    const [isModalVisible, setModalVisible] = useState(false);

    const handleOk = () => {
        // xxx;
        setModalVisible(false);
    }
    
    const handleCancel = () => {
        // xxx;
        setModalVisible(false);
    }

    return (
        <views>...</views>
        <Modal title="Basic Modal" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>
            <p>Some contents...</p>
        </Modal>
    );
}

// hooks\u62BD\u79BB\u4E1A\u52A1\u903B\u8F91
// -- models/xx/useXXX\u6587\u4EF6\u5939
// modal.tsx
const Modal = () => <p>Some contents...</p>;
// index.ts
function useXXX() {
    return () => Modal.show(Modal);
}
`),1)]),_:1}),n5,l5,C5,i5,n(s,{data:F,"node-key":"id","default-expanded-keys":["hooks","hooks/service","hooks/utils","models","models/account","models/profile","models/product","pages","pages/profile_list","pages/profile_list/models"]}),B5,u("p",null,[D5,n(r,{to:{path:"swr"}},{default:B(()=>[c5]),_:1}),A5])],64)}}const f5=M(I(_({},d5),{setup:p5}));const h5={name:"IntroducetPage"},_5=u("h2",null,"\u4E0D\u63D0\u4F9B\u6784\u5EFA\u548C\u8F93\u51FA",-1),m5=E("\u8FD9\u4E2A\u9879\u76EE\u4E0D\u662F\u4E00\u4E2A\u5355\u72EC\u53EF\u7528\u7684\u5DE5\u5177\u3001\u5E93\uFF0C\u800C\u662F\u4E00\u4E2A\u7406\u5FF5\u3001\u4E00\u5957\u65B9\u6848\u3001\u4E00\u79CD\u9879\u76EE\u7EC4\u7EC7\u65B9\u5F0F\u3001\u4E00\u6B21\u6570\u636E\u6D41\u7BA1\u7406\u7684\u843D\u5730\u5B9E\u8DF5\u3002("),g5=E("\u524D\u8A00"),v5=E(" \u90E8\u5206)"),b5=E("\u8FD8\u6709\u5BF9\u524D\u7AEF\u52A0\u8F7D\u8FC7\u6E21\u3001\u9519\u8BEF\u5904\u7406\u65B9\u9762\u4EA4\u4E92\u4F53\u9A8C\u7684\u63A2\u7D22\u3002("),I5=E("\u4F7F\u7528"),w5=E(" \u90E8\u5206\u7684 "),$5=E("\u6258\u7BA1\u8FDC\u7AEF\u6570\u636E"),y5=E(" \u548C "),k5=E("\u7F13\u5B58\u8FC7\u6E21\u3001\u53D6\u6570\u9519\u8BEF\u7684\u5904\u7406"),S5=E(")"),P5=K('<br><p>\u5148\u666E\u53CA\u4E00\u4E2A\u6982\u5FF5: \u6B63\u4EA4\uFF0C\u5373\u6A21\u5757\u4E4B\u95F4\u4E0D\u4F1A\u76F8\u4E92\u5F71\u54CD\u3002\u653E\u5728\u524D\u7AEF\uFF0C\u5C31\u662F: \u4E1A\u52A1\u903B\u8F91\u4E0E\u89C6\u56FE\u5C42\u4EE3\u7801\u5206\u79BB\uFF0C\u53D6\u6570\u8FC7\u7A0B(loading)\u4E0E\u89C6\u56FE\u4EE3\u7801\u5C42\u5206\u79BB\uFF0C\u9519\u8BEF\u5904\u7406(ErrorBoundary)\u4E0E\u89C6\u56FE\u5C42\u4EE3\u7801\u5206\u79BB\u3002</p><p> \u5EFA\u8BAE\u770B\u770B\u8FD9\u4E24\u7BC7\u6587\u7AE0\u52A0\u6DF1\u4E0B\u7406\u89E3: <a href="https://juejin.cn/post/6844904016388816904" target="_blank">\u7CBE\u8BFB\u300A\u6B63\u4EA4\u7684 React \u7EC4\u4EF6\u300B</a>\uFF0C <a href="https://juejin.cn/post/6844904040619311111" target="_blank">[\u8BD1]\u300A\u6B63\u4EA4React\u7EC4\u4EF6\u7684\u597D\u5904\u300B</a>(\u5C31\u662F\u524D\u9762\u90A3\u4E2A\u300A\u7CBE\u8BFB\u300B\u91CC\u63D0\u5230\u7684\u82F1\u6587\u6587\u7AE0\u7684\u8BD1\u6587)\u3002 </p><br><p>\u5982\u679C\u4F60\u4ECE\u672A\u5C1D\u8BD5\u8FC7\u5C06\u529F\u80FD\u903B\u8F91\u3001\u4E1A\u52A1\u903B\u8F91\u4E0E\u89C6\u56FE\u5C42\u5206\u79BB\uFF0C\u770B\u5B8C\u8FD9\u4E2A\u9879\u76EE\u4E5F\u8BB8\u4F60\u80FD\u6709\u6240\u6536\u83B7\u3002</p><p>\u5982\u679C\u4F60\u5DF2\u7ECF\u5B9E\u8DF5\u8FC7\uFF0C\u4E5F\u8BB8\u4F60\u80FD\u6709\u6240\u611F\u89E6\u3002</p><p>\u5982\u679C\u4F60\u662F\u4E2A\u57FA\u5EFA\u5DE5\u4F5C\u8005\u800C\u4E0D\u662F\u4E2A\u5207\u56FE\u4ED4\uFF0C\u90A3\u5C31\u5F53\u79D1\u666E\u8BFB\u7269\u770B\u5427\u3002</p><p>\u5982\u679C\u4F60\u4E0D\u662F\u4E2A\u7A0B\u5E8F\u5458\uFF0C\u53EF\u4EE5\u76F4\u63A5\u53BB\u770B\u4EA4\u4E92\u4F53\u9A8C\u90A3\u5757\u3002</p><br>',9),x5=E(" \u4E4B\u6240\u4EE5\u662Fvue3\u5F15\u7528\u7684\u5374\u90FD\u662Freact\u7684\u4E1C\u897F: \u56E0\u4E3Avue\u7684\u793E\u533A\u7E41\u8363\u5EA6\u548Creact\u6CA1\u6CD5\u6BD4\uFF0Creact\u793E\u533A\u6709\u597D\u591A\u9879\u76EE\u4ECE\u4E0D\u540C\u65B9\u5411\u5BF9 \u6570\u636E\u6D41\u7BA1\u7406 \u7ED9\u51FA\u4E86\u89E3\u51B3\u65B9\u6848("),M5=E("\u5199\u5728\u6700\u540E"),K5=E("\u4F1A\u63D0\u5230\u51E0\u4E2A)\u3002 \u800C\u6211\u4E5F\u66F4\u719F\u6089react\uFF0C\u4F46\u662F\u516C\u53F8\u7528\u7684vue\u3002 "),X5=u("br",null,null,-1),V5=u("h4",null,"\u63A5\u4E0B\u6765\u8FDB\u5165\u6B63\u9898\uFF0C\u8BF7\u6309\u5E8F\u9605\u8BFB\u4EE5\u4E0B\u4E09\u7BC7:",-1),j5=E("hooks\u5E26\u6765\u7684\u53E6\u4E00\u9762 -- \u9762\u5411\u4E1A\u52A1\u7F16\u7A0B"),q5=E("swr -- \u4E5F\u8BB8\u6211\u4EEC\u5E76\u4E0D\u9700\u8981store"),R5=E("swr-store");function L5(o,F,e,a,t,s){const r=p("router-link");return A(),d(g,null,[_5,u("p",null,[m5,n(r,{to:{path:"/"}},{default:B(()=>[g5]),_:1}),v5]),u("p",null,[b5,n(r,{to:{path:"/usage_basic"}},{default:B(()=>[I5]),_:1}),w5,n(r,{to:{path:"/usage_basic"}},{default:B(()=>[$5]),_:1}),y5,n(r,{to:{path:"/usage_ux"}},{default:B(()=>[k5]),_:1}),S5]),P5,u("p",null,[x5,n(r,{to:{path:"introduce_end"}},{default:B(()=>[M5]),_:1}),K5]),X5,V5,u("p",null,[n(r,{to:{path:"hooks"}},{default:B(()=>[j5]),_:1})]),u("p",null,[n(r,{to:{path:"swr"}},{default:B(()=>[q5]),_:1})]),u("p",null,[n(r,{to:{path:"swr_store"}},{default:B(()=>[R5]),_:1})])],64)}var O5=X(h5,[["render",L5]]);const U5=u("h2",null,"swr-store",-1),N5=u("p",null,[E("\u5F97\u76CA\u4E8Evue3\u54CD\u5E94\u5F0F\u7CFB\u7EDF\u7684\u72EC\u7ACB\u6027\uFF0C\u53EF\u4EE5\u76F4\u63A5\u62FF\u6765\u5B9E\u73B0 "),u("b",null,"\u5728\u72EC\u7ACB\u4E8E\u7EC4\u4EF6\u4E4B\u5916\u88AB\u89C2\u6D4B\u3001\u53EF\u54CD\u5E94\u53D8\u5316"),E(" \u7684\u76EE\u6807\u3002")],-1),W5=u("p",null,'\u5269\u4E0B\u7684api\u8FD1\u4F3CuseRequest\uFF0C\u53EA\u4E0D\u8FC7\u4ECE"use"\u53D8\u6210\u4E86"create"\u3002',-1),H5=u("p",null,"\u8FD4\u56DE\u5BF9\u8C61\u91CC\u7684data, error, status\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u540C\u65F6\u4F1A\u8FD4\u56DE\u4E00\u4E2Ause\u51FD\u6570\u3002",-1),T5=u("p",null,"\u8FD9\u4E2Ause\u51FD\u6570\u5E76\u4E0D\u662F\u4E00\u4E2Ahooks\uFF0C\u4F60\u53EF\u4EE5\u5728\u4EFB\u4F55\u5730\u65B9\u4F7F\u7528\u53BB\u6839\u636E\u4F20\u5165\u7684fetcher\u62C9\u53D6\u6570\u636E\u3002use\u51FD\u6570\u7684\u8FD4\u56DE\u7ED3\u679C\u91CC\u4E5F\u6709data\u7B49, \u4E0Ecreate\u8FD4\u56DE\u7684\u662F\u540C\u4E00\u4E2A\u5BF9\u8C61\u3002",-1),z5=u("p",null,"\u53EF\u4EE5\u50CFswr\u4E00\u6837\u5728\u6BCF\u4E2Asetup\u91CC\u4F7F\u7528use()\u4F7F\u6570\u636E\u4FDD\u6301\u65B0\u9C9C(\u5F53\u7136\u4E5F\u53EF\u4EE5\u50CFswr\u4E00\u6837\u4E00\u6BB5\u65F6\u95F4\u5185\u4E0D\u53D1\u91CD\u590D\u8BF7\u6C42)\u3002\u5982\u679C\u89C9\u5F97\u5927\u91CF\u7684\u8BF7\u6C42\u4F1A\u5BFC\u81F4\u670D\u52A1\u5668\u625B\u4E0D\u4F4F\uFF0C\u90A3\u5C31\u9009\u62E9\u6027\u5F97\u4F7F\u7528use\u5373\u53EF\u3002",-1),G5=u("p",null,[E("\u5982\u4E0B\u7B80\u4F8B\uFF0C\u73B0\u5728\u4E1A\u52A1\u4E0E\u89C6\u56FE\u5C42\u662F\u5B8C\u5168\u89E3\u8026\u7684\u4E86\uFF0C\u8BF7\u6C42\u7684\u72B6\u6001\u90FD\u88AB\u6258\u7BA1\uFF0C\u5199\u7C7B\u578B\u3001\u5199\u6D4B\u8BD5\u4E5F\u5982\u6B64\u7B80\u5355\u3002\u6700\u91CD\u8981\u7684\u662F: "),u("b",null,"\u56F4\u7ED5\u67D0\u4E00\u6BB5\u4E1A\u52A1\u76F8\u5173\u7684\u903B\u8F91\u5168\u5728\u4E00\u4E2A\u5730\u65B9\u3002")],-1),J5=u("p",null,"\u518D\u770B\u770B\u73B0\u5728\u76EE\u5F55\u7ED3\u6784\u7684\u53D8\u5316\u3002\u53EF\u4EE5\u780D\u6389apis\u76EE\u5F55\uFF0C\u5982\u679C\u6CA1\u6709\u590D\u6742\u672C\u5730\u6570\u636E\u8981\u7BA1\u7406\uFF0C\u751A\u81F3\u53EF\u4EE5\u780D\u6389store\u3002",-1),Y5=u("br",null,null,-1),Q5=E("\u5728\u8FDB\u5165\u5177\u4F53\u4F7F\u7528\u8BF4\u660E\u524D\uFF0C\u8FD8\u6709"),Z5=E("\u5199\u5728\u6700\u540E"),u6=E("\u3002"),e6={name:"SwrStorePage"};function F6(o){const F=[{id:"hooks",label:"hooks (\u975E\u4E1A\u52A1\u7C7Bhooks)",children:[{id:"hooks/service",label:"service",children:[{id:"hooks/service/useContactUS",label:"useContactUS(\u70B9\u51FB\u5F39\u6846\u663E\u793A\u8054\u7CFB\u6211\u4EEC)"},{id:"hooks/service/useTrack",label:"useTrack(\u57CB\u70B9)"}]},{id:"hooks/utils",label:"utils",children:[{id:"hooks/service/useMeasure",label:"useMeasure(\u6D4B\u91CFDOM\u5C3A\u5BF8)"},{id:"hooks/service/useBacktop",label:"useBacktop(\u70B9\u51FB\u5143\u7D20\u56DE\u5230\u9876\u90E8)"}]}]},{id:"models",label:"models",children:[{id:"models/account",label:"account",children:[{id:"useSign",label:"useSign"},{id:"useAccountInfo",label:"useAccountInfo"},{id:"useProfiles",label:"useProfiles"},{id:"useCreateProfile",label:"useCreateProfile"}]},{id:"models/profile",label:"profile",children:[{id:"useCurrentProfileInfo",label:"useCurrentProfileInfo"},{id:"useActiveProduct",label:"useActiveProduct"},{id:"useChangeProfile",label:"useChangeProfile"}]},{id:"models/product",label:"product",children:[{id:"useUsageInfo",label:"useUsageInfo"},{id:"useChangeProduct",label:"useChangeProduct"}]}]},{id:"pages",label:"pages",children:[{id:"pages/profile_list",label:"profile_list",children:[{id:"pages/profile_list/index.vue",label:"index.vue"},{id:"pages/profile_list/models",label:"models",children:[{label:"useXXX"}]}]}]},{id:"router",label:"router"},{id:"assets",label:"assets"},{id:"components",label:"components"},{id:"utils",label:"utils"}];return(e,a)=>{const t=p("prism"),s=p("el-tree"),r=p("router-link");return A(),d(g,null,[U5,N5,W5,H5,T5,z5,G5,n(t,{language:"javascript"},{default:B(()=>[E(C(`// in some model
import { watch } from 'vue';
import createFetcher from 'xxx';
import createSwrData from '@swr-store';

const graphqlSchema = \`\`;
const getUserInfo = createFetcher(graphqlScheme);

export interface AccountInfo {
    email: string;
    name: string;
}

interface AccountInfoError {

}

// \u8FDC\u7AEF\u6570\u636E\u6258\u7BA1
const userInfo = createSwrData<AccountInfo, AccountInfoError>(getUserInfo, { cacheKey: 'userInfo' });
export userInfo;

// \u8FD9\u79CD\u53D1\u73B0\u503C\u53D8\u5316\u5F39\u5F39\u7A97\u7684\u5730\u65B9\u53EF\u4EE5\u76F4\u63A5\u5199\u5728models\u4E2D\uFF0C\u5B83\u662F\u5168\u5C40\u552F\u4E00\u7684\u3002
const { data: userInfo, error, status\uFF0C use, mutate } = userInfo;
watch(() => userInfo.value, (newVal, oldVal) => {
    Dialog.show(xx.vue);
});

// \u6258\u7BA1\u7EAF\u7CB9\u8BF7\u6C42
const { run, data: XXXData, status: XXXStatus, error: XXXError } = createSwrData<Data, Error>(Fetcher, { manual: true });
export XXXStatus;
// \u53EF\u4EE5\u6B63\u5E38\u5904\u7406\u8BF7\u6C42\u7684\u65B9\u5F0F\u5BF9\u5F85\u7EAF\u7CB9\u8BF7\u6C42
export handleXXX = async () => {
    const res = await run();
    
    // dosomething...
}
// \u4E5F\u53EF\u4EE5\u628A\u7EAF\u7CB9\u8BF7\u6C42\u770B\u6210\u4E00\u4E2A\u6570\u636E\uFF0C\u4EE5watch\u7684\u5F62\u5F0F\u89C2\u5BDF\u5B83\u7684\u7ED3\u679C\u53D8\u5316
watch(() => XXXData.value, () => {
    if (!XXXData.value) return;
    // dosomething...
});

<---------------------------------------------------------------->
// in some page
// in template
<template>
    <div>{{ userInfo.name }|</div>
    <button @click="handleXXX" :loading="XXXStatus !=='validating'"/>
</template>
// In setup
<script lang="ts" setup>
import { userInfo, handleXXX, XXXStatus } from '@models/account/userInfo';
const { data: userInfo, error, status } = userInfo.use(); // \u9700\u8981\u53D6\u6570
// const { data: userInfo, error, status } = userInfo; // \u4E0D\u9700\u8981\u53D6\u6570
<\/script>
`),1)]),_:1}),J5,n(s,{data:F,"node-key":"id","default-expanded-keys":["hooks","hooks/service","hooks/utils","models","models/account","models/profile","models/product","pages","pages/profile_list","pages/profile_list/models"]}),Y5,u("p",null,[Q5,n(r,{to:{path:"introduce_end"}},{default:B(()=>[Z5]),_:1}),u6])],64)}}const E6=M(I(_({},e6),{setup:F6})),t6={name:"StorePage"},s6=K('<h2>swr -- \u4E5F\u8BB8\u6211\u4EEC\u5E76\u4E0D\u9700\u8981store</h2><p>\u5F88\u591A\u5E74\u524D\uFF0Cgraphql\u521A\u51FA\u6765\u7684\u65F6\u5019\uFF0C\u5C31\u6709\u5F88\u591A\u4EBA\u5728\u95EE: \u6211\u4EEC\u662F\u4E0D\u662F\u4E0D\u9700\u8981store\u4E86\uFF1F</p><p>react hooks / vue composition api \u4E4B\u540E\uFF0C\u4E5F\u51FA\u73B0\u4E86\u8BB8\u591A\u8FD9\u6837\u7684\u58F0\u97F3: \u662F\u4E0D\u662F\u53EF\u4EE5\u7528context/provide\u4EE3\u66FFstore?</p><p>\u662F\u7684\uFF0C\u5982\u679C\u6211\u4EEC\u4EC5\u4EC5\u662F\u5C06store\u7528\u4F5C\u8FDC\u7AEF\u6570\u636E\u7684\u5BB9\u5668\uFF0C\u7528\u4EE5\u8DE8\u7EC4\u4EF6\u5171\u4EAB\u6570\u636E\uFF0C\u6211\u4EEC\u5927\u53EF\u4EE5\u8BD5\u8BD5\u653E\u5F03store\uFF0C\u7528\u522B\u7684\u65B9\u5F0F\u53BB\u505A\uFF0C\u820D\u5F03\u6389store\u53E6\u5916\u65B9\u9762\u7684\u529F\u80FD\u5E26\u6765\u7684\u5FC3\u667A\u8D1F\u62C5\u3002</p><h3>\u6240\u8C13\u8D1F\u62C5\uFF0C\u4E3E\u4E2A\u4F8B\u5B50: \u9700\u8981\u505A\u4EC0\u4E48\u624D\u80FD\u7528\u8D77\u6765store\u4E2D\u7684\u6570\u636E?</h3><p>\u5F97\u5728store\u4E2D\u5B9A\u4E49\u5B57\u6BB5\u3001\u5B9A\u4E49\u4FEE\u6539\u8FD9\u4E2A\u5B57\u6BB5\u7684mutation\u3001dispatch\u3001\u5B9A\u4E49\u5F02\u6B65action\u3001effect\u3002\u4E5F\u8BB8\u5F97\u518D\u5355\u5F00\u4E00\u4E2A\u6587\u4EF6\u5199\u7C7B\u578B\u5B9A\u4E49\u2026\u2026</p><p>\u4E3A\u4EC0\u4E48\u8981\u53BB\u505A\u8FD9\u4E9B\uFF1F\u56E0\u4E3A\u8FD9\u5C31\u662Fstore\uFF1F\u4E0D\u4E0D\u4E0D\u2026\u2026\uFF0C\u8FD9\u4E9B\u662Fstore\u7684\u53E6\u4E00\u9762: \u53EF\u63A7\u3001\u53EF\u6EAF\u5730\u6539\u53D8\u6570\u636E\u3002</p><p>\u4F46\u662F\uFF0C\u5728\u7EDD\u5927\u90E8\u5206\u7684\u4E1A\u52A1\u573A\u666F\u4E2D\uFF0Cstore\u4E5F\u786E\u5B9E\u5C31\u662F\u4E2A\u8FDC\u7AEF\u6570\u636E\u5BB9\u5668\uFF0C\u9875\u9762\u5C31\u662F\u8FDC\u7AEF\u6570\u636E\u7684\u6620\u5C04\u3002\u9700\u8981store\u53EF\u9884\u6D4B\u5730\u7BA1\u7406\u590D\u6742\u672C\u5730\u6570\u636E\u7684\u524D\u7AEF\u9879\u76EE\u53EA\u662F\u6781\u5C11\u6570\u3002</p><p>\u8FD9\u4E2A\u4ED3\u5E93\u8BB2\u7684\u4E1C\u897F\uFF0C\u5E94\u5BF9\u7684\u6B63\u662F\u666E\u904D\u7684\u3001\u4E0D\u90A3\u4E48\u9700\u8981store\u7684\u573A\u666F\u3002</p><br><h3>\u63A5\u4E0B\u6765\u8BB2\u8BB2swr\u5982\u4F55\u66FF\u4EE3store\u5B58\u653E\u3001\u66F4\u65B0\u3001\u5171\u4EAB\u8FDC\u7AEF\u6570\u636E</h3><p>\u5148\u4E0A\u4E00\u4E2A\u6700\u7B80\u4F8B\u5B50(\u5F80\u4E0B\u770B\u4E4B\u524D\u786E\u4FDD\u81F3\u5C11\u770B\u5B8C\u4E86 <a href="https://github.com/vercel/swr" target="_blank">swr</a>(react) / <a href="https://github.com/Kong/swrv" target="_blank">swrv</a>(vue) \u7684\u57FA\u672C\u4ECB\u7ECD\u6587\u6863</p>',12),o6=K("<p>\u6B63\u5982swr\u5BF9\u81EA\u8EAB\u7684\u7B80\u4ECB\u6240\u8A00: React Hooks for Data Fetching\uFF0C\u5B83\u662F\u4E00\u4E2A\u7528\u4E8E\u53D6\u6570\u7684\u81EA\u5B9A\u4E49hooks\u3002</p><p>\u5B83\u901A\u8FC7\u5FC5\u586B\u7684\u3001\u5168\u5C40\u552F\u4E00\u6807\u8BC6\u8981\u53D6\u7684\u6570\u636E\u7684key\uFF0C\u5B9E\u73B0\u4E86\u8DE8\u7EC4\u4EF6\u5171\u4EAB\u6570\u636E\u3002</p><p>\u73B0\u5728\uFF0C\u56DE\u60F3\u4E0B \u4E0A\u7BC7\u8BB2\u7684hooks\u7684\u53E6\u4E00\u9762\u3002swr\u8FD9\u79CD\u4EE5\u67D0\u4E00\u6570\u636E\u4E3A\u7C92\u5EA6\u7684hooks\u5F0F\u53D6\u6570\u65B9\u5F0F \u662F\u4E0D\u662F\u548C\u62BD\u79BB\u4E1A\u52A1\u903B\u8F91\u3001\u9762\u5411\u4E1A\u52A1\u903B\u8F91\u7F16\u7A0B\u5B8C\u5168\u5951\u5408?</p><p>\u51E0\u4E2AuseSWR\u6570\u636E\u5408\u6210\u4E00\u4E2Amodels\u4E2D\u7684useXXX\u4E1A\u52A1\uFF0C\u5982\u679C\u914D\u5408\u4E0Agraphql\u90A3\u65E0\u7591\u66F4\u52A0\u7B80\u6D01\u3002</p><p>\u6700\u91CD\u8981\u7684\u662F\uFF0C\u5982\u679C\u5C11\u6709\u590D\u6742\u672C\u5730\u72B6\u6001\u7BA1\u7406\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u628Astore\u8FD9\u4E2A\u76EE\u5F55\u7ED9\u5220\u4E86\uFF01\u81F3\u5C11\uFF0Cstore\u91CC\u9762\u4E5F\u4E0D\u7528\u5206\u5C42\u653E\u7F6E\u8FDC\u7AEF\u6570\u636E\uFF0C\u53D8\u5F97\u5F88\u5C0F\u5F88\u7EAF\u7CB9\u4E86\u3002</p><p>\u73B0\u5728\uFF0C\u6240\u6709\u4E1A\u52A1\u90FD\u662F\u5408\u7406\u5206\u5C42\u3001\u72EC\u7ACB\u7EC4\u7EC7\u3001\u4E0EUI\u5B8C\u5168\u89E3\u8026\u7684\u4E86\uFF0C\u53D6\u6570\u3001\u66F4\u65B0\u6570\u636E\u7684\u90E8\u5206\u4EE5\u53CA\u6570\u636E\u7C7B\u578B\u5B9A\u4E49\u4E5F\u4ECE\u5206\u79BB\u5F00\u7684store\u4E2D\u56DE\u6765\uFF0C\u7531swr\u6258\u7BA1\u5728\u4E00\u5904\u4E86\u3002</p><br><h3>swr\u8FD8\u6709\u989D\u5916\u597D\u5904</h3><p>\u6BD4\u5982<b>\u6258\u7BA1\u53D6\u6570\u72B6\u6001</b>\u3002\u5982\u679C\u662F\u5728react\u4E0B\uFF0C\u53EF\u4EE5\u76F4\u63A5\u7528suspense\u5B9E\u73B0\u53D6\u6570\u8FC7\u7A0B\u4E0EUI\u6B63\u4EA4\u3002vue\u7684setup suspense\u53EF\u4E0D\u884C\uFF0C\u6211\u7684\u89E3\u51B3\u65B9\u6848\u662F\u63D0\u4F9B\u4E00\u5957\u81EA\u5B9A\u4E49\u6307\u4EE4\u3002</p><p>\u5F53\u7136dva\u3001rematch\u7B49store\u4E5F\u65E9\u5C31\u63D0\u4F9B\u4E86\u7C7B\u4F3C\u6258\u7BA1\u53D6\u6570\u72B6\u6001\u7684\u529F\u80FD\u3001recoil\u4E5F\u652F\u6301suspense\uFF0C\u4F46\u662F\u4E3A\u4EC0\u4E48\u4E0D\u8BD5\u8BD5\u66F4\u8FDB\u4E00\u6B65\uFF0C\u76F4\u63A5\u628Astore\u4E22\u4E86\u5462\u3002</p>",10),a6=u("p",null,[E("\u6BD4\u5982"),u("b",null,"\u4F9D\u8D56\u53D8\u66F4\u81EA\u52A8\u91CD\u53D6"),E("\uFF0C\u53EF\u4EE5\u5C11\u5199\u597D\u591A\u63A7\u5236\u4EE3\u7801\u3002")],-1),r6=u("p",null,"\u4EE5\u53CA\u66F4\u591A\u7684\u5173\u4E8E\u6570\u636E\u66F4\u65B0\u91CD\u65B0\u6821\u9A8C\u7B49\u573A\u666F\u7684\u529F\u80FD\uFF0C\u8BE6\u89C1\u6587\u6863\u3002",-1),n6=u("p",null,[E("\u8FD8\u6709"),u("b",null,"stale-while-revalidate"),E("\uFF0C\u5148\u6E32\u67D3\u7F13\u5B58\u3002")],-1),l6=u("p",null," swr\u7684\u7F13\u5B58\u53EA\u662Fsession\u7EA7\u7684\uFF0C\u8001\u65E7\u6570\u636E\u7A81\u53D8\u8FC7\u6E21\u6CA1\u663E\u5F97\u90A3\u4E48\u91CD\u8981\u3002 \u6211\u5728swr-store\u4E2D\u7528\u4E86indexDB\u5C06\u7F13\u5B58\u672C\u5730\u6301\u4E45\u5316\uFF0C\u7A81\u53D8\u8FC7\u6E21\u7684\u95EE\u9898\u5C31\u5C24\u4E3A\u51F8\u663E\u3002 ",-1),C6=E("\u5E76\u4E14\u6211\u5728swr\u7684\u57FA\u7840\u4E0A\u5EF6\u4F38\u51FA\u4E86 \u6570\u636E\u7684\u751F\u547D\u5468\u671F \u8FD9\u4E2A\u6982\u5FF5\uFF0C\u8FD9\u4E2A\u90E8\u5206\u504F\u5411\u4EA4\u4E92\u4F53\u9A8C\uFF0C\u4E5F\u4E0D\u662F\u524D\u7AEF\u4E00\u4E2A\u4EBA\u80FD\u505A\u7684\uFF0C\u4F1A\u5728 "),i6=E("\u4F7F\u7528\uFF1A\u6258\u7BA1\u8FDC\u7AEF\u6570\u636E"),B6=E(" \u8FD9\u4E00\u9875\u63D0\u5230\u3002\u8FD9\u4E2A\u6982\u5FF5\u5F88\u6709\u610F\u601D\uFF0C\u53EF\u80FD\u5BF9\u4E8E\u6709\u7684\u4EBA\u6765\u8BF4\u4F1A\u6BD4\u524D\u8A00\u8BB2\u7684\u8FD9\u4E9B\u6709\u8DA3\u7684\u591A\u3002"),D6=K('<p>\u4E0D\u8FC7\u8FD9\u53EA\u662F\u6211\u7684\u6784\u601D\uFF0C\u5E76\u6CA1\u6709\u5B9E\u8DF5\u8FC7\uFF0C\u592A\u96BE\u4E86\u2026\u2026\u5355\u7EAF\u5206\u4EAB\u4E0B\u6211\u505A\u7684\u4E9B\u5C1D\u8BD5(<a>\u7F13\u5B58\u8FC7\u6E21\u3001\u53D6\u6570\u9519\u8BEF\u7684\u5904\u7406</a>)\u3002\u4E0D\u5EFA\u8BAE\u73B0\u5728\u76F4\u63A5\u8DF3\u8FC7\u53BB\u770B\uFF0C\u6162\u6162\u5F80\u4E0B\u770B\u5C31\u662F\u3002</p><br><h3>\u7136\u800Cswr\u4E0D\u591F\uFF0C\u5355\u9760swr\u6491\u4E0D\u8D77\u4E00\u4E2A\u9879\u76EE</h3><p>swr\u662F\u4E2A \u6570\u636E\u8BF7\u6C42\u5E93\uFF0C\u5F97\u6709\u5BF9\u5E94\u7684\u8FDC\u7AEF\u6570\u636E\u624D\u80FD\u7531swr\u6258\u7BA1\u3002</p><p>\u5B9E\u9645\u4E1A\u52A1\u573A\u666F\u4E2D\uFF0C\u591A\u5F97\u662F\u6CA1\u6709\u5BF9\u5E94\u8FDC\u7AEF\u6570\u636E\u7684\u7EAF\u7CB9\u8BF7\u6C42\u3002\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0Cswr\u5C31\u6349\u895F\u89C1\u8098\u4E86\u3002</p><p>\u6CA1\u529E\u6CD5\uFF0C\u90A3\u4E5F\u4E0D\u80FD\u6709\u6570\u636E\u7684\u8BF7\u6C42swr\u6258\u7BA1\uFF0C\u53E6\u5916\u7684\u624B\u52A8\u63A7\u5236\u5199\u5F00\u59CB\u3001\u7ED3\u675F\u72B6\u6001\u5427\uFF1F</p><p>\u6240\u4EE5\uFF0C\u6211\u4EEC\u9700\u8981\u4E00\u4E2A\u5E93\uFF0C\u4E00\u4E2A\u8BF7\u6C42\u5E93\uFF0C\u4E00\u4E2A\u5305\u542B\u4E86swr\u529F\u80FD\u7684\u8BF7\u6C42\u5E93\uFF0C\u53EF\u4EE5\u6258\u7BA1\u4E00\u5207\u8BF7\u6C42\u3002</p><p> \u6709\u8BF7 <a href="https://hooks.umijs.org/zh-CN/hooks/async#%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA" target="_blank">umihooks/useRequest</a> (<a href="https://github.com/tannerlinsley/react-query" target="_blank">react-query\u4E5F\u884C</a>)\u3002 </p><p>\u8FD9\u91CC\uFF0C\u6211\u5C31\u4E0D\u5C55\u5F00\u8BB2useRequest\u4E86\uFF0C\u603B\u4E4B\u5B83\u53EF\u4EE5\u50CFswr\u5F0F\u7684\u63D0\u4F9B\u4E2Akey\u7F13\u5B58\u5171\u4EAB\u6570\u636E\uFF0C\u4E5F\u53EF\u4EE5manual\u7BA1\u7406\u6CA1\u6709\u5BF9\u5E94\u6570\u636E\u7684\u7EAF\u7CB9\u8BF7\u6C42\u3002</p><br><h3>\u6240\u4EE5\uFF0CuseRequest\u5C31\u662F\u7EC8\u70B9\u4E86\u5417?</h3><p>\u4E0D\u591F\u3002\u6211\u4E3E\u4F8B\u4E24\u4E2A\u9700\u6C42\u3002</p><h4>\u4E00: \u5728\u8FDB\u5165\u9875\u9762\u524D\u83B7\u53D6\u6570\u636E\u3002\u4E8C: \u67D0\u4E2A\u5916\u5C42\u901A\u7528(\u4E0D\u662F\u9875\u9762\u91CC\u7684)models\u4E2D\u7684\u4E1A\u52A1\uFF0C\u9700\u8981\u6839\u636E\u5176\u76F8\u5173\u5B57\u6BB5\u53D8\u5316\u663E\u793A\u5F39\u7A97\u3002</h4><p> \u5BF9\u4E8E\u95EE\u9898\u4E00: \u56E0\u4E3Aswr/useRequest\u57FA\u4E8Ehooks\u7684\u673A\u5236\uFF0C\u662F\u5728\u6BCF\u4E00\u4E2A\u4F7F\u7528\u7684\u7EC4\u4EF6\u91CC\u7EF4\u62A4\u5404\u81EA\u7684\u5177\u6709\u76F8\u540C\u503C\u7684\u72B6\u6001\uFF0C\u4E0D\u540C\u4E8Estore\u7684\u72EC\u7ACB\u5728\u5916\uFF0C\u6240\u4EE5\u4E0D\u80FD\u5728\u8DEF\u7531\u5B88\u536B\u5904\u5148\u884C\u83B7\u53D6\u3002 \u8981\u60F3\u7ED5\u8FC7\u4E5F\u5BB9\u6613\uFF0C\u89C6\u56FE\u5C42\u52A0\u4E00\u5C42\u5305\u88F9\uFF0C\u5728\u5305\u88F9\u4E2D\u53D6\u3002 </p><p>\u4F46\u662F\u5982\u679C\u8FD9\u6837\u7684\u573A\u666F\u6709\u597D\u51E0\u5904\u5462?\u5C82\u4E0D\u662F\u5F97\u5728\u89C6\u56FE\u5C42\u52A0\u597D\u51E0\u5904\u65E0\u610F\u4E49\u7684\u5305\u88F9\u3002</p><p> \u5BF9\u4E8E\u95EE\u9898\u4E8C: \u4E5F\u4E0D\u80FD\u5916\u5C42models\u91CC\u9762\u7684useXX\u901A\u7528\u4E1A\u52A1\u903B\u8F91\u4E2D\u52A0\u4E0Awatch/effect\uFF0C\u9053\u7406\u540C\u4E0A\uFF0C\u4E00\u4E2A\u9875\u9762\u4E0A\u6709\u591A\u5C11\u4E2A\u540C\u65F6\u7528\u5230\u4E86\u7684\u7EC4\u4EF6\u5C31\u4F1A\u89E6\u53D1\u591A\u5C11\u6B21\u3002 </p><p>\u60F3\u7ED5\u8FC7\u7684\u8BDD\uFF0C\u53EA\u80FD\u7ED9hooks\u52A0\u4E2A\u53C2\uFF0C\u5728\u591A\u5904\u540C\u65F6\u5B58\u5728\u90FD\u7528\u5230\u8FD9\u4E2A\u4E1A\u52A1hooks\u7684\u7EC4\u4EF6\u91CC\u9009\u5176\u4E2D\u4E00\u4E2A\u5E26\u4E0A\uFF0C\u53EA\u6709\u5B83\u80FD\u89E6\u53D1\u3002</p><p>\u4E0D\u7136\u2026\u2026\u90FD\u5DF2\u7ECF\u628A\u903B\u8F91\u62BD\u79BB\u51FA\u6765\u4E86\uFF0C\u603B\u4E0D\u80FD\u518D\u5355\u72EC\u628A\u8FD9\u79CD\u903B\u8F91\u653E\u56DE\u67D0\u4E00\u5904\u7684\u89C6\u56FE\u5C42\u5427?</p><br><h4>\u6240\u4EE5\uFF0C\u6211\u9700\u8981\u8FD9\u6837\u4E00\u4E2A\u4E1C\u897F\u3002\u5B83\u80FD:</h4><h4>\u50CFswr\u4E00\u6837\u6258\u7BA1\u6570\u636E\u8BF7\u6C42\uFF0C\u8DE8\u7EC4\u4EF6\u5171\u4EAB\u6570\u636E;</h4><h4>\u50CFuseRequset\u4E00\u6837\u6258\u7BA1\u80FD\u7EAF\u7CB9\u8BF7\u6C42;</h4><h4>\u50CFstore\u4E00\u6837\u80FD\u72EC\u7ACB\u5B58\u5728\u53C8\u4E0D\u9700\u8981\u53EF\u9884\u6D4B\u5730\u7BA1\u7406\u6570\u636E\u3002</h4><h4>\u5E76\u4E14\u4ED6\u53EF\u4EE5\u5728\u72EC\u7ACB\u4E8E\u7EC4\u4EF6\u4E4B\u5916\u88AB\u89C2\u6D4B\u3001\u53EF\u54CD\u5E94\u53D8\u5316\u3002</h4>',24),c6=E("\u5B83\u5C31\u662F"),A6=E("swr-store"),d6=E("\u3002");function p6(o,F,e,a,t,s){const r=p("prism"),i=p("router-link");return A(),d(g,null,[s6,n(r,{language:"javascript"},{default:B(()=>[E(C(`import useSWR from 'swr';

function Profile() {
    const { data, error } = useSWR('/api/user', fetcher);

    if (error) return <div>failed to load</div>;
    if (!data) return <div>loading...</div>;
    return <div>hello {data.name}!</div>34;
}`),1)]),_:1}),o6,n(r,{language:"javascript"},{default:B(()=>[E(C(`import { Suspense } from 'react';
import useSWR from 'swr';

function Profile() {
    const { data } = useSWR('/api/user', fetcher, { suspense: true });
    return <div>hello, {data.name}</div>;
}

function App() {
    return (
        <Suspense fallback={<div>loading...</div>}>
            <Profile/>
        </Suspense>
    );
}`),1)]),_:1}),a6,n(r,{language:"javascript"},{default:B(()=>[E(C(`function MyProjects() {
    const { data: user } = useSWR('/api/user');
    const { data: projects } = useSWR(() => '/api/projects?uid=' + user.id);
    // When passing a function, SWR will use the return
    // value as 'key'. If the function throws or returns
    // falsy, SWR will know that some dependencies are not
    // ready. In this case 'user.id' throws when 'user'
    // isn't loaded.

    if (!projects) return 'loading...';
    return 'You have ' + projects.length + ' projects';
}`),1)]),_:1}),r6,n6,l6,u("p",null,[C6,n(i,{to:{path:"usage_basic"}},{default:B(()=>[i6]),_:1}),B6]),D6,u("p",null,[c6,n(i,{to:{path:"swr_store"}},{default:B(()=>[A6]),_:1}),d6])],64)}var f6=X(t6,[["render",p6]]),h6="./assets/ts1.c8b3c7d8.png",_6="./assets/ts2.6677164a.png",m6="./assets/ts3.b9ed098d.png",g6=`// in models -- useProfileInfo
import createFetcher from '@utils/createFetcher';
import createSwrData from '@utils/swr-store';

// \u51FA\u4E8E\u96C6\u4E2D\u4E1A\u52A1\u903B\u8F91\u7684\u8003\u91CF\uFF0C\u6211\u4E2A\u4EBA\u66F4\u63A8\u5D07\u53EA\u5728utils\u91CC\u7559\u4E2Afetcher\u7684\u5C01\u88C5\uFF0C\u628A\u5177\u4F53\u8BF7\u6C42\u3001graphqlSchema\u90FD\u96C6\u4E2D\u5728\u5BF9\u5E94\u7684models\u91CC\uFF0C\u8FD9\u6837\u7EF4\u62A4\u8D77\u6765\u662F\u66F4\u5BB9\u6613\u7684\u3002
const fetcher = createFetcher('/api/getProfileInfo_immutable');

// \u7C7B\u578B\u4E5F\u53EF\u4EE5\u5199\u5728\u4E00\u8D77\uFF0C\u53EA\u8981\u4E1A\u52A1\u62C6\u5206\u7684\u5408\u7406\uFF0C\u5355\u6587\u4EF6\u4E0D\u4F1A\u5F88\u957F\u3002
// \u6570\u636E\u7C7B\u578B\u5F97\u5BFC\u51FA\uFF0C\u540E\u7EED\u76F8\u5173\u7684\u6D3E\u751F\u6570\u636E\u5168\u4EE5\u6B64\u4E3A\u57FA\u6D3E\u751F\uFF0C\u5E94\u8BE5\u4E0D\u4F1A\u6709\u5197\u4F59\u5B9A\u4E49\u3002
export interface ProfileInfo {
    ownerEmail: string;
    domain: string;
    date: string;
}

// \u9519\u8BEF\u7C7B\u578B\u5728\u8FD9\u91CC\u5199\u6E05\u695A\u5BF9\u5E94\u4EC0\u4E48\u60C5\u51B5
interface ProfileInfoError {
    /** 0\u4EE3\u8868xx, -1\u4EE3\u8868xx\u3002 */
    code: -1 | 0;
    message: string;
}

// createSwrData\u652F\u6301\u4E09\u4E2A\u6CDB\u578B\uFF0C\u7B2C\u4E00\u4E2A\u6CDB\u578B\u662Fdata\u7684\u7C7B\u578B\uFF0C \u7B2C\u4E8C\u4E2A\u6CDB\u578B\u662Ferror\u7684\u7C7B\u578B\uFF0C\u7B2C\u4E09\u4E2A\u6CDB\u578B\u540E\u9762\u4E00\u9875\u8BF4\u3002
const profileInfoData = createSwrData<ProfileInfo, ProfileInfoError>(fetcher, { cacheKey: 'profileInfo_immutable' });
// \u5982\u679C\u4E0D\u9700\u8981\u7F13\u5B58\u53EA\u6258\u7BA1\u72B6\u6001\uFF0C\u4E0D\u586BcacheKey\u5373\u53EF\u3002
// const profileInfoData = createSwrData<ProfileInfo, ProfileInfoError>(fetcher);

// \u4E00\u822C\u60C5\u51B5\u4E0B\u5EFA\u8BAE\u628Acreate\u7684SwrData\u5C01\u88C5\u6210\u4E00\u4E2Ahooks\u5F62\u5F0F\u7684\u51FD\u6570\u5BFC\u51FA\u3002
const useProfileInfo = () => {
    profileInfoData.use(); // \u8C03\u7528use\u51FD\u6570\u624D\u4F1A\u53D1\u8D77fetcher\u3002
    \u5176\u4ED6\u4E1A\u52A1\u903B\u8F91...
    return profileInfoData;
}
export default useProfileInfo;

// in template
<template>
    <p>status: {{ status }|</p>
    <!-- <div v-if="profileInfo"> -->
    <div v-if="profileInfo && !status?.includes('error')">
        data: {{ profileInfo }|
    </div>
    <div v-if="status === 'validating'">
            \u6B63\u5728\u83B7\u53D6\u6700\u65B0\u6570\u636E <span v-loading="true">loading...</span>
    </div>
    <div v-if="error">
        <p>error: {{ error }|</p>
        <button @click="retry()">
            \u70B9\u51FB\u91CD\u65B0\u53D6\u6570
        </button>
    </div>
</template>

// in setup
<script lang="ts" setup>
import useProfileInfo from './models/useProfileInfo';
const { data: profileInfo, error, status, use: retry } = useProfileInfo();
<\/script>



<----  \u5982\u679C\u771F\u7684\u5565\u5176\u4ED6\u4E1A\u52A1\u903B\u8F91\u90FD\u6CA1\u6709\uFF0C\u5C31\u662F\u5355\u7EAF\u7684\u53D6\u4E2A\u6570\u3002model\u4E2D\u76F4\u63A5\u5BFC\u51FAcreateSwrData\u7684\u8FD4\u56DE\u503C\uFF0C\u5728\u7EC4\u4EF6\u91CC\u8C03\u7528use\u5C31\u884C\uFF0C\u4E0D\u7528\u50CF\u4E0A\u9762\u90A3\u6837\u5728model\u4E2D\u5C01\u88C5\u4E2AuseXXX hooks\u3002 ---->
export profileInfoData;
// in setup
<script lang="ts" setup>
import profileInfoData from './models/useProfileInfo';
const { data: profileInfo, error, status } = profileInfoData.use();
<\/script>

<---- \u4E00\u822C\u60C5\u51B5\u4E0B\u63A8\u8350\u4FDD\u6301swr\u4E00\u6837\u7684\u7406\u5FF5\u653E\u5FC3\u5728\u6BCF\u4E2A\u7EC4\u4EF6setup\u65F6\u5019\u7528use\u62C9\u6700\u65B0\u6570\u636E\u3002\u5982\u679C\u4F60\u89C9\u5F97\u8FD9\u4F1A\u5BF9\u670D\u52A1\u5668\u9020\u6210\u538B\u529B\uFF0C\u90A3\u5C31\u53EA\u9009\u4E00\u4E2A\u7EC4\u4EF6\u7528use\uFF0C\u5176\u4ED6\u76F4\u63A5\u7528createSwrData\u8FD4\u56DE\u7684data\u3001error\u3001status\uFF0C\u548Cuse\u7684\u8FD4\u56DE\u662F\u540C\u4E00\u5BF9\u8C61\u3002 ---->
export profileInfoData;
// in setup
<script lang="ts" setup>
import profileInfoData from './models/useProfileInfo';
const { data: profileInfo, error, status } = profileInfoData;
<\/script>



<-------------- \u4EE5\u4E0B\u662Fmutate\u7684\u793A\u4F8B -------------->
<template>
    <div v-if="status === 'success'">
        <input v-model="ownerEmail" />
        <button @click="handleMutateOwnerEmail" :disabled="!ownerEmail">
            \u70B9\u51FB mutate\u672C\u5730\u6539\u53D8ownerEmail\u7684\u503C
        </button>
    </div>
</template>

<script lang="ts" setup>
import profileInfoData from './models/useProfileInfo';
const { data: profileInfo, error, status, mutate } = profileInfoData;

let ownerEmail = $ref('');
// \u8FD9\u91CC\u5C31\u662F\u4E0A\u9762\u8BF4\u7684: \u5BF9\u4E8E\u62FF\u4E0B\u6765\u7684\u8FDC\u7AEF\u6570\u636E\uFF0C\u9700\u8981\u76F4\u63A5\u672C\u5730\u4FEE\u6539\u800C\u4E0D\u7528\u901A\u77E5\u670D\u52A1\u5668\u7684\u573A\u666F\u53EA\u662F\u5C11\u6570\u3002\u9047\u5230\u4E86\u7684\u8BDDwatch\u4E00\u4E0B\u6D3E\u751F\u51FA\u4E2A\u65B0\u7684\u53EF\u81EA\u7531\u6539\u7684\u6570\u636E\u6E90\u66F4\u5408\u7406\u4E9B\u3002
watch(() => profileInfo.value, (newVal) => {
    if (!newVal) return;
    ownerEmail = newVal.ownerEmail;
});
const handleMutateOwnerEmail = () => {
    // mutate\u53EF\u4EE5\u76F4\u63A5\u4F20\u5165\u4E00\u4E2A\u65B0\u7684\u503C\uFF0C\u4F1A\u88ABtypescript\u9650\u5236\u4E3AData\u6CDB\u578B\u3002
    mutate({ ...profileInfo.value, ownerEmail });

    // mutate\u4E5F\u53EF\u4EE5\u4F20\u5165\u4E00\u4E2A\u540C\u6B65\u51FD\u6570\uFF0C\u53C2\u6570\u4E2D\u7684\u503C\u4E3A\u5F53\u524DData\u503C\uFF0C\u73B0\u5728\u8FD9\u53E5\u548C\u4E0A\u9762\u90A3\u53E5\u662F\u7B49\u6548\u7684\u3002
    mutate((oldProfileInfo) => ({ ...oldProfileInfo, ownerEmail }));


    // \u8FD8\u53EF\u4EE5\u4F20\u5165\u4E00\u4E2A\u5F02\u6B65\u51FD\u6570\uFF0C\u8FD4\u56DE\u503C\u4E5F\u5F97\u662FData\u6CDB\u578B
    mutate(() => Promise.resolve(({ ...profileInfo.value, ownerEmail })));
}
<\/script>
`,W=o=>async F=>{var e,a;try{const s=await _u({url:o,method:F?"post":"get",data:F});return((e=s==null?void 0:s.data)==null?void 0:e.code)!==1?Promise.reject(s==null?void 0:s.data):Promise.resolve((a=s==null?void 0:s.data)==null?void 0:a.data)}catch(t){return Promise.reject(t)}};const v6=window.requestIdleCallback||setTimeout;class b6{constructor(F=128){m(this,"capacity");m(this,"size",0);m(this,"map");m(this,"head",new H("head"));m(this,"tail",new H("tail"));m(this,"hasInit");m(this,"initResolve");this.capacity=F,this.head.next=this.tail,this.tail.pre=this.head,this.map=new Map,this.hasInit=new Promise(e=>this.initResolve=e),this.init()}init(){O.iterate((F,e)=>{this.getSync(e)||this.set(e,F)}).then(()=>{var F;(F=this.initResolve)==null||F.call(this,void 0)})}set(F,e){if(!this.map)return;let a=this.map.get(F);if(a?(a.data=e,this.head.next!==a&&this._deleteFromLinkedList(a)):(a=new H(F,e),this.map.set(F,a),this.size++),this.head.next!==a&&this._moveToHead(a),this.size>this.capacity){const t=this.tail.pre;this.tail.pre=t.pre,t.pre.next=this.tail,this.map.delete(t.key),O.removeItem(F),this.size--}v6(()=>O.setItem(F,a.data))}getSync(F){const e=this.map.get(F);return e?(this.head.next!==e&&(this._deleteFromLinkedList(e),this._moveToHead(e)),e.data):null}async get(F){await this.hasInit;const e=this.map.get(F);return e?(this.head.next!==e&&(this._deleteFromLinkedList(e),this._moveToHead(e)),e.data):null}_deleteFromLinkedList(F){const e=F.pre,a=F.next;e.next=a,a.pre=e}_moveToHead(F){const e=this.head.next;F.next=e,e.pre=F,this.head.next=F}}class H{constructor(F,e){m(this,"key");m(this,"data");m(this,"next");m(this,"pre");this.key=F,this.data=e,this.next=null,this.pre=null}}var T=new b6;const I6={};function q(o,F){const e=_(_({},I6),F),a=(F==null?void 0:F.manual)==!0,t=Y({cacheKey:typeof e.cacheKey=="string"?e==null?void 0:e.cacheKey:"",isCacheKeyValid:typeof e.cacheKey=="string",currentFetcher:null}),s=Y({data:void 0,error:void 0,status:"pending"});let r=!0;const i=()=>{Object.assign(s,{data:void 0,error:void 0,status:"pending"}),r=!0},h=async c=>{if(s.status==="validating"||e.cacheKey!==void 0&&!t.isCacheKeyValid||e.dependent&&!e.dependent())return;console.log("validate: ",t);const D=t.cacheKey;let y;r&&t.isCacheKeyValid&&(y=await T.get(D),console.log("validate cacheData: ",y,D,t.cacheKey),y&&D===t.cacheKey&&(s.data=y),r=!1);try{s.status="validating",t.currentFetcher=o(c);const k=t.currentFetcher,S=await k;return t.isCacheKeyValid&&!!S&&T.set(D,S),k!==t.currentFetcher||e.cacheKey!==void 0&&!t.isCacheKeyValid?void 0:(console.log("validate fetch Data: ",S),s.data=S,s.status="success",s.error=void 0,S)}catch(k){throw console.log("validate error :",k),s.error=k,s.status=s.data?"stale_error":"error",k}};async function x(c){let D;typeof c=="function"?D=await c(s.data):D=c,s.data=D,t.isCacheKeyValid&&!!D&&T.set(t.cacheKey,D)}const f=c=>{if(c)if(i(),typeof(e==null?void 0:e.setCacheKey)=="function"){const D=e.setCacheKey(c);typeof D=="string"&&!!D?(t.cacheKey=D,t.isCacheKeyValid=!0):(t.cacheKey="",t.isCacheKeyValid=!1)}else t.cacheKey="",t.isCacheKeyValid=!1;return h(c),_({},Q(Z(s)))},$=c=>(i(),h(c));return typeof(e==null?void 0:e.cacheKey)=="function"&&U(e.cacheKey,()=>{if(typeof e.cacheKey!="function")return;const c=e.cacheKey();i(),typeof c=="string"&&!!c?(t.cacheKey=c,t.isCacheKeyValid=!0,h()):t.isCacheKeyValid=!1},{immediate:!0}),typeof(e==null?void 0:e.dependent)=="function"&&U(e.dependent,()=>{typeof e.dependent=="function"&&(i(),e.dependent()&&h())},{immediate:!0}),_(_({},Q(Z(s))),a?{run:$}:{use:f,mutate:x})}const w6=W("/api/getProfileInfo_immutable"),au=q(w6,{cacheKey:localStorage.getItem("basic_cache")==="true"?"profileInfo_immutable":void 0}),$6=()=>(au.use(),au),y6=u("h3",null,"\u6258\u7BA1\u8FDC\u7AEF\u6570\u636E:",-1),k6=u("p",null,[E("swr-store\u9ED8\u8BA4\u5BFC\u51FA\u4E00\u4E2A\u51FD\u6570\uFF0C\u6BD4\u8D77\u53EB\u5B83createSwrStore\uFF0C\u6211\u66F4\u4E50\u610F\u4E8E\u547D\u540D\u4E3AcreateSwrData\uFF0C\u5C06\u4E4B\u770B\u505A\u5BF9\u670D\u52A1\u5668\u4E0A\u7684\u6570\u636E\u7684"),u("b",null,"\u6258\u7BA1"),E("\u3002\u5B83\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u662Ffetcher\uFF0C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u914D\u7F6E\u9009\u9879\u3002")],-1),S6=u("p",null,"\u867D\u7136swr-store\u4E0D\u50CFswr\u4E00\u6837\u9700\u8981\u552F\u4E00key\u5EFA\u7ACB\u6570\u636E\u5728\u5404\u4E2A\u7EC4\u4EF6\u4E4B\u95F4\u7684\u8054\u7CFB\uFF0C\u4F46\u662F\u4E3A\u4E86\u672C\u5730\u6301\u4E45\u5316\u5B58\u50A8\u5316\u7F13\u5B58\uFF0C\u4E5F\u9700\u8981\u5728\u914D\u7F6E\u9009\u9879\u4E2D\u6307\u5B9A\u552F\u4E00key -- cacheKey\u3002\u4E0D\u9700\u8981\u7F13\u5B58\u7684\u8BDD\u4E0D\u5199cacheKey\u5C31\u884C\u3002",-1),P6=u("p",null,"\u4E0D\u540C\u4E8Eswr\u7684session\u7EA7\u7F13\u5B58\u81F3\u5185\u5B58\uFF0Cswr-store\u628A\u6570\u636E\u8BF7\u6C42\u7F13\u5B58\u5230\u4E86indexDB\uFF0C\u6700\u591A\u7F13\u5B5864\u4E2A\u8BF7\u6C42\uFF0C\u7528LRU\u7684\u65B9\u5F0F\u6DD8\u6C70\u3002",-1),x6=u("p",null,"createSwrData\u7684\u8FD4\u56DE\u503C\u91CC\u6709data, error, status\uFF1B use, mutate\u3002",-1),M6=u("p",null,"data\u3001error\u7B49\u540Cswr\u4E2D\u7684\u6982\u5FF5\uFF0Cstatus\u7B49\u7B49\u5F80\u4E0B\u770B\u3002\u8FD9\u4E09\u8005\u90FD\u662F\u54CD\u5E94\u5F0F\u7684Ref\u5BF9\u8C61\uFF0Cdata\u3001status\u7684\u521D\u59CB\u503C\u662Fundefined\uFF0Cstatus\u662F'pending'\u3002",-1),K6=u("p",null,"\u4E0D\u540C\u4E8Eswrv\u7684\u53EF\u53D8\u5BF9\u8C61\uFF0C\u6211\u5728typescript\u5C42\u5BF9\u4ED6\u4EEC\u505A\u4E86readonly\u7684\u9650\u5236\u3002\u53EA\u80FD\u901A\u8FC7\u8C03\u7528use\u51FD\u6570\u53D1\u8D77fetcher\u53D6\u6570\u7531swr-store\u88AB\u52A8\u6539\u53D8\u4ED6\u4EEC\uFF0C\u6216\u8005\u901A\u8FC7mutate\u51FD\u6570\u76F4\u63A5\u6539\u53D8data\u3002",-1),X6=u("p",null," \u8FD9\u91CC\u7684mutate\u5C31\u6BD4\u8F83\u7C7B\u4F3C\u4E8Eswr\u4E2D\u7684\u6982\u5FF5(useRequest, react-query\u4E2D\u7684mutate\u4EE3\u8868\u7684\u542B\u4E49\u4E0D\u592A\u4E00\u6837)\u3002 \u8FD9\u91CC\u7684use\u57FA\u672C\u7B49\u6548\u4E8Eswr\u4E2D\u4EE5hooks\u5F62\u5F0FuseSwr(cacheKey, fetcher)\u53D6\u6570\uFF0C\u4ECE\u800C\u89E6\u53D1fetcher\u54CD\u5E94\u5F0F\u5730\u66F4\u65B0data\u4E2D\u7684\u503C\u3002\u533A\u522B\u5C31\u662Fuse\u662F\u5E76\u4E0D\u662Fhooks\uFF0C\u5B83\u53EF\u4EE5\u5728\u4EFB\u4F55\u5730\u65B9\u88AB\u8C03\u7528\u3002use\u7684\u8C03\u7528\u7ED3\u679C\u4E5F\u4F1A\u8FD4\u56DEdata, error, status, \u548Ccreate\u8FD4\u56DE\u7684\u662F\u540C\u4E00\u4E2A\u5BF9\u8C61\u3002 ",-1),V6=u("p",null,"\u5C06\u5B83\u4EEC\u58F0\u660E\u4E3Areadonly\u4E5F\u662F\u60F3\u52A0\u4E00\u5C42\u6D45\u9650\u5236\uFF0C\u7406\u7531\u4E5F\u662F\u51FA\u4E8Eimmutable\u7684\u53EF\u63A7\u6027\u66F4\u5F3A\u4E00\u70B9\u3002\u6211\u60F3\uFF0C\u5BF9\u4E8E\u62FF\u4E0B\u6765\u7684\u8FDC\u7AEF\u6570\u636E\uFF0C\u9700\u8981\u76F4\u63A5\u672C\u5730\u4FEE\u6539\u800C\u4E0D\u7528\u901A\u77E5\u670D\u52A1\u5668\u7684\u573A\u666F\u53EA\u662F\u5C11\u6570\u3002\u9047\u5230\u4E86\u7684\u8BDDwatch\u4E00\u4E0B\u6D3E\u751F\u51FA\u4E2A\u65B0\u7684\u53EF\u81EA\u7531\u6539\u7684\u6570\u636E\u6E90\u66F4\u5408\u7406\u4E9B\u3002",-1),j6=u("br",null,null,-1),q6=u("p",null,[E("\u6240\u8C13"),u("b",null,"\u6258\u7BA1"),E("\uFF0C\u4E4B\u524D\u4E5F\u53EB\u4E86\u8FD9\u4E48\u4E45\uFF0C\u5176\u5B9E\u8FD9\u662F\u4E2A\u6211\u751F\u9020\u7684\u6982\u5FF5\u3002\u4E0B\u4E2A\u5B9A\u4E49\u7684\u8BDD\u5C31\u662F: \u670D\u52A1\u5668\u7684\u6570\u636E\u62C9\u5230\u524D\u7AEF\u7684\u6574\u4E2A"),u("b",null,"\u751F\u547D\u5468\u671F"),E("(\u5F53\u7136\uFF0C\u6570\u636E\u751F\u547D\u5468\u671F \u8FD9\u4E2A\u6982\u5FF5\u4E5F\u662F\u6211\u751F\u9020\u7684\u2026\u2026)\u3002")],-1),R6=u("p",null,"\u5BF9\u4E8E\u6709\u5BF9\u5E94\u7684\u8FDC\u7AEF\u6570\u636E\u7684\u8FD9\u79CD\u60C5\u51B5\uFF0C\u6211\u5212\u5206\u4E3A\u4EE5\u4E0B\u51E0\u79CD\u751F\u547D\u5468\u671F\uFF0C\u53CD\u5E94\u5728\u54CD\u5E94\u5F0F\u7684status\u91CC: 'pending' | 'validating' | 'success' | 'error' | 'error_retry' | 'stale_error' | 'stale_error_retry'",-1),L6=u("p",null,"\u521D\u59CB\u662F'pending'\u72B6\u6001\uFF0C\u5F53\u4EFB\u610F\u5730\u65B9\u8C03\u7528use\uFF0Cstatus\u4F1A\u53D8\u6210'validating'\u3002\u5982\u679C\u5DF2\u6709\u7F13\u5B58\u503C\uFF0C\u8FD9\u65F6\u5019data\u91CC\u5DF2\u7ECF\u662F\u7F13\u5B58\u7684\u503C\u4E86\uFF0C\u5426\u5219\u4E3Aundefined\u3002\u6CE8\u610F\uFF0C\u53EA\u6709\u5F53\u8C03\u7528use\u53D1\u8D77\u8BF7\u6C42\uFF0C\u624D\u4F1A\u4ECEcache\u4E2D\u8BFB\u503C\u3002",-1),O6=u("p",null,"\u5982\u679C\u62C9\u53D6\u6210\u529F\uFF0Cdata\u503C\u4F1A\u66F4\u65B0\uFF0C\u6709\u7F13\u5B58\u60C5\u51B5\u4E0B\u4F1A\u4EE5\u76F4\u63A5\u66FF\u6389\u6574\u4E2A\u5BF9\u8C61\u7684shallow\u5F0F\u66F4\u65B0\u3002\u7136\u540Estatus\u53D8\u6210'success'",-1),U6=u("p",null,"\u5982\u679C\u62C9\u53D6\u5931\u8D25\uFF0C\u9519\u8BEF\u7ED3\u679C\u4F1A\u66F4\u65B0\u5230error\u4E0A\u3002\u5982\u679Cdata\u4E2D\u65E0\u7F13\u5B58\u7684\u503C\uFF0Cstatus\u4F1A\u53D8\u6210'error'\uFF0C\u5426\u5219\u4F1A\u53D8\u6210'stale_error'\u3002error\u4E0D\u4F1A\u88AB\u7F13\u5B58\u3002",-1),N6=u("p",null,"\u5982\u679C\u4E0D\u60F3\u7528\u7F13\u5B58\uFF0C\u6216\u8005\u5BF9\u4EA4\u4E92\u8FD9\u5757\u4E0D\u611F\u5192\uFF0C\u8BB0\u5230\u8FD9\u91CC\u5C31\u53EF\u4EE5\u4E86\u3002\u5269\u4E0B\u7684\u4E00\u5806\u751F\u547D\u5468\u671F\u4E0D\u7528\u5728\u4E4E\uFF0C\u53EF\u4EE5\u8DF3\u8FC7\u5269\u4E0B\u7684\u6BB5\u843D\u76F4\u63A5\u770Bexample\u3001code\u3002",-1),W6=u("br",null,null,-1),H6=u("p",null,"\u5982\u679C\u5728createSwrStore\u7684\u914D\u7F6E\u9879\u91CC\u58F0\u660E\u4E86\u51FA\u9519\u91CD\u8BD5(\u8FD9\u4E00\u9875\u4E0D\u4F1A\u8BB2\uFF0C\u5728\u540E\u9762)\uFF0C\u5E76\u4E14data\u91CC\u6709\u7F13\u5B58\u7684\u6570\u636E\uFF0C\u6B64\u65F6status\u53D8\u4E3A'stale_error_retry', \u5F00\u59CB\u91CD\u65B0\u8C03\u7528fetcher\u53D6\u6570\uFF1B\u5982\u679C\u6CA1\u6709\uFF0C\u53D8\u4E3A'error_retry'\u3002",-1),T6=u("p",null,"\u5230\u8FBE\u6700\u5927\u91CD\u8BD5\u6B21\u6570\u540E\u5982\u679C\u6210\u529F\uFF0C\u90A3\u5F53\u7136\u53D8\u4E3A'success'\uFF0C\u5426\u5219\u4F9D\u636E\u6709\u65E0\u7F13\u5B58\u53D8\u4E3A'error' | 'stale_error'\u3002",-1),z6=u("p",null,"\u9875\u9762\u7684\u6BCF\u4E2A\u90E8\u5206\u90FD\u4F9D\u8D56\u4E0D\u540C\u7684\u4E1A\u52A1\u3001\u4E0D\u540C\u7684\u6570\u636E\u6E90\u3002\u7406\u60F3\u60C5\u51B5\u4E0B\uFF0C\u6BCF\u4E2A\u90E8\u5206\u90FD\u4F1A\u6839\u636E\u5404\u81EA\u573A\u666F\u663E\u793A\u5404\u81EA\u7684\u5185\u5BB9\u3001\u8FC7\u6E21\u3001\u9519\u8BEF\uFF0C\u6BCF\u4E2A\u90E8\u5206\u90FD\u53EF\u80FD\u662F\u4E0D\u540C\u7684\u3002",-1),G6=u("p",null,"\u4E3E\u4E2A\u4F8B\u5B50:\u5BF9\u4E8E\u504F\u5C55\u793A\u578B\u7684\u573A\u666F\uFF0C\u54EA\u6015\u62C9\u53D6\u6700\u65B0\u7684\u6570\u636E\u9519\u4E86\uFF0C\u4E5F\u53EF\u4EE5\u7167\u5E38\u663E\u793A\u7F13\u5B58\u7684\u5185\u5BB9\u3002\u5148\u884C\u663E\u793A\u7F13\u5B58\u754C\u9762\u540C\u65F6\u751A\u81F3\u53EF\u4EE5\u5148\u8BA9\u7528\u6237\u8FDB\u884C\u90E8\u5206\u64CD\u4F5C\uFF0C\u8FC7\u6E21loading\u53EF\u4EE5\u663E\u793A\u5728\u89D2\u843D\u4E0A\u3002",-1),J6=u("p",null,"\u5BF9\u90A3\u4E9B\u5BF9\u6570\u636E\u4E25\u8C28\u6027\u8981\u6C42\u9AD8\u7684\uFF0C\u504F\u64CD\u4F5C\u6027\u7684\u573A\u666F\uFF0C\u53EF\u80FD\u53EA\u6709\u786E\u4FDD\u62C9\u5230\u6700\u65B0\u6570\u636E\u624D\u80FD\u64CD\u4F5C\uFF0C\u663E\u793A\u8FC7\u6E21loading\u7684\u65F6\u5019\u5F97\u8BA9loading\u52A8\u753B\u8986\u76D6\u6574\u4E2A\u533A\u5757\u4F7F\u5176\u53EA\u80FD\u770B\u4E0D\u80FD\u70B9\uFF0C\u5F53\u4E2A\u4F53\u9A8C\u66F4\u597D\u7684\u771F\u5B9E\u9AA8\u67B6\u5C4F\u3002",-1),Y6=u("p",null,"\u5982\u679C\u80FD\u505A\u597D\u8FC7\u6E21\uFF0C\u7279\u522B\u662F\u5728\u975E\u8DE8\u7AEF\u3001\u975E\u591A\u4EBA\u534F\u4F5C\u573A\u666F\uFF0C\u7F13\u5B58\u662F\u6BD4\u9AA8\u67B6\u5C4F\u4F18\u79C0\u7684\u591A\u7684\u7528\u6237\u4F53\u9A8C\u3002\u8FD1\u4E4E\u767E\u5206\u767E\u547D\u4E2D\u3001\u79D2\u5F00\uFF0C\u74F6\u9888\u53EA\u5728DOM\u6E32\u67D3\u3002",-1),Q6=u("p",null,"\u5982\u679C\u80FD\u505A\u597D\u9519\u8BEF\u5185\u5BB9\u5904\u7406\uFF0C\u9875\u9762\u5C31\u4E0D\u4F1A'\u6B7B'\uFF0C\u81EA\u52A8\u91CD\u8BD5\u80FD\u89E3\u51B3\u5927\u90E8\u5206\u610F\u5916\u60C5\u51B5\u3002\u518D\u4E0D\u6D4E\u4E5F\u4E0D\u81F3\u4E8E\u9700\u8981\u91CD\u5237\u6574\u4E2A\u9875\u9762\uFF0C\u53EF\u4EE5\u8BA9\u7528\u6237\u624B\u52A8\u5C40\u90E8\u91CD\u8BD5\u3002",-1),Z6=u("p",null,"\u4F46\u662F\u8FD9\u90E8\u5206\u7684\u5185\u5BB9\u5355\u9760\u524D\u7AEF\u505A\u4E0D\u4E86\uFF0C\u9700\u8981\u4EA7\u54C1\u3001\u8BBE\u8BA1\u4E00\u8D77\u6784\u601D\u4E0D\u540C\u60C5\u666F\u4E0B\u7684\u9875\u9762\u5185\u5BB9\u7684\u8FC7\u6E21\u72B6\u6001\u548C\u9519\u8BEF\u5904\u7406\uFF0C\u4EE5\u8FBE\u5230\u6700\u597D\u7684\u7528\u6237\u4F53\u9A8C\u3002",-1),u0=u("p",null,[E("\u8BF4\u5B9E\u8BDD\u6211\u6CA1\u771F\u7684\u8BD5\u8FC7\uFF0C\u4E5F\u6CA1\u89C1\u6709\u4EBA\u8BD5\u8FC7\u8FD9\u4E48\u53BB\u505A\u3002\u8FD9\u5F88\u8017\u65F6\uFF0C\u9700\u8981\u7CBE\u96D5\u7EC6\u7422\uFF0C"),u("b",null,"\u662F\u628A\u4EA7\u54C1\u4ECE90\u5206\u505A\u5230100\u5206\u7684\u90E8\u5206"),E("\u3002")],-1),e0=u("p",null,[E("\u6211\u4F1A\u5728\u540E\u9762\u7684"),u("a",null,"\u7F13\u5B58\u8FC7\u6E21\u3001\u53D6\u6570\u9519\u8BEF\u7684\u5904\u7406"),E("\u91CC\u5206\u5177\u4F53\u573A\u666F\u5206\u4EAB\u51E0\u4E2A\u6211\u6784\u601D\u4E2D\u4F8B\u5B50\u3002")],-1),F0=u("h4",null,"code: ",-1),E0=u("br",null,null,-1),t0={style:{height:"300px"}},s0=u("h4",null,"example: \u5237\u65B0\u9875\u9762\u89E6\u53D1setup\u91CD\u65B0\u53D6\u6570\uFF0C\u8017\u65F6\u4E24\u79D2\uFF0C\u4E00\u534A\u6982\u7387\u6210\u529F\u4E00\u534A\u6982\u7387\u5931\u8D25\u3002",-1),o0={key:0,style:{marginLeft:"32px"}},a0=E(),r0={key:2},n0={key:3},l0=E(" \u6B63\u5728\u83B7\u53D6\u6700\u65B0\u6570\u636E "),C0=E("loading..."),i0=[C0],B0={key:4},D0={key:5},c0=["disabled"],A0=u("h3",null,"\u4F7F\u7528vscode-volar\u80FD\u83B7\u5F97\u826F\u597D\u7684template\u7C7B\u578B\u652F\u6301",-1),d0=u("p",null,"\u6211\u60F3 status\u6570\u636E\u751F\u547D\u5468\u671F \u7684\u6982\u5FF5\u4E0D\u81F3\u4E8E\u4E00\u4E0B\u5B50\u9020\u6210\u5F88\u5927\u7684\u56F0\u6270\u3002",-1),p0=u("img",{src:h6},null,-1),f0=u("img",{src:_6},null,-1),h0=u("img",{src:m6},null,-1),_0=u("br",null,null,-1),m0=u("br",null,null,-1),g0=u("h4",null,"\u662F\u4E0D\u662F\u89C9\u5F97\u4E0A\u9762\u89C6\u56FE\u5C42template\u770B\u7740\u8FD8\u662F\u6709\u70B9\u590D\u6742?",-1),v0=u("p",null,"\u662F\u7684\uFF0Cdemo\u53EA\u662F\u62BD\u79BB\u4E86\u4E1A\u52A1\u903B\u8F91\uFF0C\u53D6\u6570\u72B6\u6001\u3001\u9519\u8BEF\u5904\u7406\u5E76\u4E0D\u6B63\u4EA4\u3002",-1),b0=u("p",null,"\u5982\u679C\u4F60\u4E0D\u5728\u4E4E\u4E0A\u9762\u8BB2\u7684\u7F13\u5B58\u8FC7\u6E21\u3001\u9519\u8BEF\u5904\u7406\u90A3\u90E8\u5206\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4E22\u6389\u5B83\u4EEC\uFF0C\u7B80\u5355\u7684\u901A\u8FC7v-loading\u8FD9\u6837\u7684\u6307\u4EE4\u5904\u7406\u4E0B\u53D6\u6570\u4E2D\u7684\u72B6\u6001\u3002\u8FD9\u6837\u7684\u8BDD\uFF0C\u89C6\u56FE\u5C42\u4E2D\u5C31\u53EA\u6709\u53D6\u5230\u6570\u4E4B\u540E\u7684\u6570\u636E\u6B63\u786E\u5185\u5BB9\u4EE5\u53CA\u4E00\u4E2Av-loading\u6307\u4EE4\u4E86\u3002",-1),I0=u("p",null,"\u7B80\u5355\u4F7F\u7528\u7684\u8BDD\uFF0C\u89C6\u56FE\u5C42\u662F\u8FD9\u6837\u5B50\u7684:",-1),w0=E(C(`<template>
    <div v-loading="status === 'validating'">
        {{ profileInfo }|
    </div>
</template>
`)),$0=u("p",null,"\u5426\u5219\uFF0C\u9700\u8981\u4EA7\u54C1\u3001\u8BBE\u8BA1\u914D\u5408\u601D\u8003\u8FC7\u6E21\u3001\u9519\u8BEF\u5904\u7406\uFF0C\u52B3\u9A7E\u540E\u7AEF\u5199\u597D\u9519\u8BEF\u4EE3\u7801\uFF0C\u7136\u540E\u524D\u7AEF\u518D\u4F9D\u7167status\u6570\u636E\u751F\u547D\u5468\u671F\uFF0C\u5199\u51FA\u4E00\u5957\u80FD\u8986\u76D6\u5404\u5904\u573A\u666F\u7684\u8FC7\u6E21loading\u6307\u4EE4\u4EE5\u53CAerror\u9519\u8BEF\u6307\u4EE4\uFF0C\u624D\u80FD\u5B9E\u73B0\u7406\u60F3\u4E2D\u7684\u5B8C\u5168\u4F53\u6B63\u4EA4\u3002",-1),y0=E(C(`<template>
    <div v-loading['\u573A\u666Fx']="status" v-error['\u573A\u666Fx']='status'>
        {{ profileInfo }|
    </div>
</template>
        `)),k0={name:"Basic"};function S0(o){const{data:F,error:e,status:a,use:t,mutate:s}=$6(),r=w(localStorage.getItem("basic_cache")==="true"),i=w(localStorage.getItem("basic_error_cache")==="true"),h=()=>{r.value=!r.value,localStorage.setItem("basic_cache",r.value?"true":"false")},x=()=>{i.value=!i.value,localStorage.setItem("basic_error_cache",i.value?"true":"false")},f=w("");U(()=>F.value,c=>{!c||(f.value=c.ownerEmail)});const $=()=>{s(c=>I(_({},c),{ownerEmail:f.value}))};return(c,D)=>{const y=p("prism"),k=uu("loading");return A(),d(g,null,[y6,k6,S6,P6,x6,M6,K6,X6,V6,j6,q6,R6,L6,O6,U6,N6,W6,H6,T6,z6,G6,J6,Y6,Q6,Z6,u0,e0,F0,n(y,{language:"javascript"},{default:B(()=>[E(C(l(g6)),1)]),_:1}),E0,u("div",t0,[s0,E(" "+C(r.value?"\u76EE\u524D\u5F00\u542F\u7F13\u5B58":"\u76EE\u524D\u5173\u95ED\u7F13\u5B58")+" ",1),u("button",{onClick:h},C(r.value?"\u70B9\u51FB\u53D6\u6D88\u7F13\u5B58":"\u70B9\u51FB\u5F00\u542F\u7F13\u5B58"),1),r.value?(A(),d("span",o0,C(i.value?"\u76EE\u524D\u9519\u8BEF\u65F6\u663E\u793A\u7F13\u5B58\u6570\u636E":"\u76EE\u524D\u9519\u8BEF\u65F6\u4E0D\u663E\u793A\u7F13\u5B58\u6570\u636E"),1)):b("",!0),a0,r.value?(A(),d("button",{key:1,onClick:x},C(i.value?"\u70B9\u51FB\u9519\u8BEF\u65F6\u5173\u95ED\u7F13\u5B58\u6570\u636E":"\u70B9\u51FB\u9519\u8BEF\u65F6\u663E\u793A\u7F13\u5B58\u6570\u636E"),1)):b("",!0),u("p",null,"status: "+C(l(a)),1),(l(F)&&i.value?!0:!l(e))?(A(),d("div",r0," data: "+C(l(F)),1)):b("",!0),l(a)==="validating"?(A(),d("div",n0,[l0,j(u("span",null,i0,512),[[k,!0]])])):b("",!0),l(e)?(A(),d("div",B0,[u("p",null,"error: "+C(l(e)),1),u("button",{onClick:D[0]||(D[0]=S=>l(t)())}," \u70B9\u51FB\u91CD\u65B0\u53D6\u6570 ")])):b("",!0),l(a)==="success"?(A(),d("div",D0,[j(u("input",{"onUpdate:modelValue":D[1]||(D[1]=S=>f.value=S)},null,512),[[eu,f.value]]),u("button",{onClick:$,disabled:!f.value}," \u70B9\u51FB mutate\u672C\u5730\u6539\u53D8ownerEmail\u7684\u503C ",8,c0)])):b("",!0)]),A0,d0,p0,f0,h0,_0,m0,g0,v0,b0,I0,n(y,{language:"javascript"},{default:B(()=>[w0]),_:1}),$0,n(y,{language:"javascript"},{default:B(()=>[y0]),_:1})],64)}}const P0=M(I(_({},k0),{setup:S0}));var x0="./assets/ts.28642dee.png";const M0=`// in models

import createFetcher from '@utils/createFetcher';
import createSwrData from '@utils/swr-store';
import { ref } from 'vue';


export const profileId = ref<number | undefined>(undefined);
export const changeProfileId = () => profileId.value = profileId.value === undefined ? 1 : profileId.value + 1;
export const clearProfileId = () => profileId.value = undefined;


const fetcher = createFetcher('/api/getProfileInfo_mutable');

interface ProfileInfo {
    profileId: string;
    ownerEmail: string;
    domain: string;
    date: string;
}

const profileInfo = createSwrData<ProfileInfo>(() => fetcher({ profileId: profileId.value }), { cacheKey: () => profileId.value && \`profileInfo_immutable?profileSid=\${profileId.value}\` });
// \u4E0D\u9700\u8981cache
// const profileInfoDataDependent = createSwrData<ProfileInfo>(() => fetcher({ profileId: profileId.value }), { dependent: () => profileId.value });

const useProfileInfo = () => {
    profileInfo.use();
    return profileInfo;
};
export default useProfileInfo;

// \u89C6\u56FE\u5C42
<template>
    profileId: {{ profileId }| <button :style="{ marginLeft: '12px' }" @click="changeProfileId">{{ profileId ? '\u6539\u53D8profileId' : '\u6DFB\u52A0profileId' }|</button>
    <button v-if="profileId" :style="{ marginLeft: '32px' }" @click="clearProfileId">\u7F6E\u7A7AprofileId</button>

    <p>status: {{ status }|</p>
        <div v-if="profileInfo">
            data: profileInfo }|
        </div>
        <div v-if="status === 'validating'">
                \u6B63\u5728\u83B7\u53D6\u6700\u65B0\u6570\u636E <span v-loading="true">loading...</span>
        </div>
</template>

// in setup
<script lang="ts" setup>
import useProfileInfo, { changeProfileId, clearProfileId, profileId } from './models/useProfileInfo';
const { data: profileInfo, status } = useProfileInfo();
<\/script>
`,K0=`// in models

import createFetcher from '@utils/createFetcher';
import createSwrData from '@utils/swr-store';

const fetcher = createFetcher('/api/getProfileInfo_mutable');

interface ProfileInfo {
    profileId: string;
    ownerEmail: string;
    domain: string;
    date: string;
}

// \u4E0B\u9762\u7684example\u5C31\u50CF\u8FD9\u6837\u5F00\u542F\u4E86cache\uFF0C\u53EF\u4EE5\u8F93\u5165\u76F8\u540C\u7684\u503C\u8BD5\u8BD5\u3002
const profileInfoData = createSwrData<ProfileInfo, any, string>((profileId) => fetcher({ profileId }), { setCacheKey: (profileId) => profileId && \`getProfileInfo?id=\${profileId}\`});
// \u5982\u679C\u4E0D\u9700\u8981\u7F13\u5B58\uFF0C\u4E0D\u586B\u7B2C\u4E8C\u4E2A\u53C2\u6570\u5373\u53EF
// const profileInfoData = createSwrData<ProfileInfo, any, string>((profileId) => fetcher({ profileId }));

export default profileInfoData;

// \u89C6\u56FE\u5C42
<template>
    profileId: <input v-model="profileId"/>
    <button :style="{ marginLeft: '32px' }" @click="fetch" :disabled="!profileId">\u70B9\u51FB\u53D1\u8D77\u8BF7\u6C42</button>

    <p>status: {{ status }|</p>
        <div v-if="profileInfo">
            data: profileInfo }|
        </div>
        <div v-if="status === 'validating'">
                \u6B63\u5728\u83B7\u53D6\u6700\u65B0\u6570\u636E <span v-loading="true">loading...</span>
        </div>
</template>

// \u4F9D\u8D56\u6570\u636E\u4E0D\u662Fswr-store\u6258\u7BA1\u7684
<script lang="ts" setup>
import profileInfoData from './models/useProfileInfo';
const { data: profileInfo, status } = profileInfoData();

let profileId = $ref<string | undefined>(undefined);
const fetch = () => profileInfoData.use(profileId)
<\/script>



// \u4F9D\u8D56\u6570\u636E\u4E0D\u662F\u54CD\u5E94\u5F0F\u7684
// \u5982\u679C\u5728\u7EC4\u4EF6setup\u65F6\u5C31\u77E5\u9053\u4F9D\u8D56\u7684\u6570\u636E\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8FD9\u4E48\u5199\u3002
<script lang="ts" setup>
import profileInfoData from './models/useProfileInfo';
const { data: profileInfo, status } = profileInfoData.use(dependentData);
<\/script>
`,v=w(void 0),ru=()=>v.value=v.value===void 0?1:v.value+1,nu=()=>v.value=void 0,z=W("/api/getProfileInfo_mutable"),lu=q(()=>z({profileId:v.value}),{cacheKey:()=>v.value&&`profileInfo_immutable?profileSid=${v.value}`}),X0=()=>(lu.use(),lu),Cu=q(()=>z({profileId:v.value}),{dependent:()=>v.value}),V0=()=>(Cu.use(),Cu),R=q(o=>z({profileId:o}),{setCacheKey:o=>o&&`getProfileInfo?profieSid=${o}`}),j0=u("h3",null,"\u8FDC\u7AEF\u6570\u636E\u7684\u4F9D\u8D56\u53D6\u6570:",-1),q0=u("p",null,"\u8FD9\u4E00\u9875\u548C\u4E0A\u4E00\u9875\u4E00\u6837\uFF0C\u662F\u5BF9\u8FDC\u7AEF\u6570\u636E\u7684\u6258\u7BA1\u3002",-1),R0=u("p",null,"\u4E00\u4E2A\u6570\u636E\u7684\u8BF7\u6C42\u4F9D\u8D56\u4E8E\u5176\u4ED6\u7684\u524D\u7F6E\u6570\u636E\uFF0C\u8FD9\u662F\u4E00\u79CD\u5F88\u5E38\u89C1\u7684\u573A\u666F\uFF0C\u901A\u5E38\u5F97\u5199\u633A\u591A\u4EE3\u7801\u624B\u52A8\u53BB\u63A7\u5236\u3002",-1),L0=u("p",null,"\u5982\u679C\u6574\u4E2A\u9879\u76EE\u7684\u6570\u636E\u6D41\u90FD\u662Fswr-store\u6784\u5EFA\u7684\uFF0C\u53EF\u901A\u8FC7\u8BBE\u7F6EcacheKey\u4E3A\u4E00\u4E2A\u5305\u542B\u524D\u7F6E\u54CD\u5E94\u5F0F\u6570\u636E\u7684\u51FD\u6570\u6765\u81EA\u52A8\u6258\u7BA1\u3002",-1),O0=u("p",null,"swr-store\u4F1Awatch\u51FD\u6570\u4E2D\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u53D8\u5316\uFF0C\u76F4\u5230\u5176\u8FD4\u56DE\u503C\u4E3A\u5408\u6CD5\u7684string\u503C\u65F6\uFF0C\u624D\u53D1\u8D77\u8BF7\u6C42\u3002\u5982\u679C\u5176\u8FD4\u56DE\u503C\u4ECE\u4E00\u4E2Astring\u53D8\u4E3A\u53E6\u4E00\u4E2Astring\uFF0C\u5219\u4F1A\u91CD\u65B0\u53D1\u8D77\u8BF7\u6C42\u3002",-1),U0=u("p",null,"\u4E0A\u4E00\u9875\u63D0\u5230\uFF0C\u5BF9\u4E8E\u5355\u4E00\u65E0\u4F9D\u8D56\u7684\u8BF7\u6C42\uFF0C\u4E0D\u9700\u8981\u7F13\u5B58\u53EF\u4EE5\u76F4\u63A5\u4E0D\u8BBEcacheKey\u3002\u5BF9\u4E8E\u6709\u4F9D\u8D56\u7684\u8BF7\u6C42\uFF0C\u4E0D\u9700\u8981\u7F13\u5B58\u7684\u8BDD\u53EF\u4EE5\u628AcacheKey\u9009\u9879\u6362\u6210dependent\u3002\u540C\u7406\uFF0C\u53EA\u6709\u5F53dependent\u51FD\u6570\u8FD4\u56DEtrue\u65F6\u624D\u4F1A\u53D1\u8D77\u8BF7\u6C42\u3002",-1),N0=u("p",null,"\u4E0A\u8FF0\u8FC7\u7A0B\u662F\u81EA\u52A8\u7684\uFF0C\u53EA\u8981\u4F9D\u8D56\u53D8\u66F4\u81F3\u5408\u6CD5\u5C31\u4F1A\u7ACB\u9A6C\u8C03\u7528fetcher\uFF0C\u4E0D\u9700\u8981\u624B\u52A8\u8C03\u7528use\u3002\u5F53\u7136\u4E5F\u53EF\u4EE5\u624B\u52A8\u8C03\u7528use\u518D\u6B21\u89E6\u53D1fetcher\u3002",-1),W0=u("h4",null,"code: ",-1),H0=u("br",null,null,-1),T0=u("h4",null,"example: ",-1),z0={style:{height:"180px"}},G0=u("p",null,null,-1),J0={key:1},Y0={key:2},Q0=E(" \u6B63\u5728\u83B7\u53D6\u6700\u65B0\u6570\u636E "),Z0=E("loading..."),ue=[Z0],ee=u("h4",null,"\u524D\u7F6E\u4F9D\u8D56\u6570\u636E\u53EF\u4EE5\u4E0D\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u4E5F\u53EF\u4EE5\u4E0D\u662Fswr-store\u6258\u7BA1\u7684",-1),Fe=u("p",null,"\u5728\u4EFB\u610F\u5730\u65B9\u8C03\u7528use\u51FD\u6570\u53D1\u8D77\u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u7ED9use\u51FD\u6570\u4F20\u5165\u8BE5\u4F9D\u8D56\u7684\u6570\u636E\u3002fetcher\u4E2D\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u5C31\u662F\u4F20\u5165\u7684\u6570\u636E\u3002",-1),Ee=u("p",null,"createSwrData\u7684\u7B2C\u4E09\u4E2A\u6CDB\u578B\uFF0C\u5BF9\u5E94\u7684\u5C31\u662F\u8BE5\u4F9D\u8D56\u7684\u6570\u636E\u7684\u7C7B\u578B\uFF0C\u4F1A\u53CD\u5E94\u5230fetcher\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E0A\u3002\u4E3A\u4E86\u5C11\u4E9Bapi\u8303\u5F0F\uFF0C\u91CD\u8F7D\u5B9A\u7684\u5F88\u5BBD\u6CDB\uFF0C\u6240\u4EE5\u8FD9\u91CC\u7684\u7C7B\u578B\u4F1A\u591A\u4E2Aundefined\u3002",-1),te=u("p",null,"\u5982\u679C\u8FD9\u79CD\u60C5\u51B5\u8FD8\u9700\u8981\u7F13\u5B58\uFF0C\u5728createSwrData\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E2D\u8BBE\u7F6EsetCacheKey\u51FD\u6570\u5373\u53EF\uFF0C\u9053\u7406\u7B49\u540CcacheKey\u8BBE\u4E3A\u51FD\u6570\u7684\u60C5\u51B5\u3002\u533A\u522B\u662F\uFF0CcacheKey\u4E3A\u51FD\u6570\u65F6\u4F1A\u88AB\u54CD\u5E94\u5F0F\u5730\u53BBwatch\u5176\u53D8\u5316\uFF0CsetCacheKey\u5219\u53EA\u4F1A\u5728\u8C03\u7528use\u53D1\u8D77fetcher\u65F6\u68C0\u6D4B\u3002",-1),se=u("p",null,"\u540C\u4E0A, setCacheKey\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E5F\u4F1A\u63A5\u53D7\u4F20\u5165\u7684\u8BE5\u4F9D\u8D56\u7684\u503C\uFF0C\u88AB\u7B2C\u4E09\u4E2A\u6CDB\u578B\u7EA6\u6570\u3002",-1),oe=u("img",{src:x0},null,-1),ae=u("h4",null,"code: ",-1),re=u("br",null,null,-1),ne=u("h4",null,"example: \u8F93\u5165\u76F8\u540CprofileId\u53EF\u770B\u5230\u7F13\u5B58\u7ED3\u679C",-1),le={style:{height:"140px"}},Ce=E(" profileId: "),ie=["disabled"],Be={key:0},De={key:1},ce=E(" \u6B63\u5728\u83B7\u53D6\u6700\u65B0\u6570\u636E "),Ae=E("loading..."),de=[Ae],pe={name:"Dependent"};function fe(o){const{data:F,status:e}=X0(),{data:a,status:t}=V0();let s=w(localStorage.getItem("dependent_cache")==="true");const r=()=>{s.value=!s.value,localStorage.setItem("dependent_cache",s.value?"true":"false")};let i=w(void 0);const h=()=>R.use(i.value);return(x,f)=>{const $=p("prism"),c=uu("loading");return A(),d(g,null,[j0,q0,R0,L0,O0,U0,N0,W0,n($,{language:"javascript"},{default:B(()=>[E(C(l(M0)),1)]),_:1}),H0,T0,u("div",z0,[E(C(s.value?"\u76EE\u524D\u5F00\u542F\u7F13\u5B58":"\u76EE\u524D\u5173\u95ED\u7F13\u5B58")+" ",1),u("button",{onClick:r},C(s.value?"\u70B9\u51FB\u53D6\u6D88\u7F13\u5B58":"\u70B9\u51FB\u5F00\u542F\u7F13\u5B58"),1),G0,E(" profileId: "+C(l(v))+" ",1),u("button",{style:{marginLeft:"12px"},onClick:f[0]||(f[0]=(...D)=>l(ru)&&l(ru)(...D))},C(l(v)?"\u6539\u53D8profileId":"\u6DFB\u52A0profileId"),1),l(v)?(A(),d("button",{key:0,style:{marginLeft:"32px"},onClick:f[1]||(f[1]=(...D)=>l(nu)&&l(nu)(...D))},"\u7F6E\u7A7AprofileId")):b("",!0),u("p",null,"status: "+C(s.value?l(e):l(t)),1),(s.value?l(F):l(a))?(A(),d("div",J0," data: "+C(s.value?l(F):l(a)),1)):b("",!0),(s.value?l(e)==="validating":l(t)==="validating")?(A(),d("div",Y0,[Q0,j(u("span",null,ue,512),[[c,!0]])])):b("",!0)]),ee,Fe,Ee,te,se,oe,ae,n($,{language:"javascript"},{default:B(()=>[E(C(l(K0)),1)]),_:1}),re,ne,u("div",le,[Ce,j(u("input",{"onUpdate:modelValue":f[2]||(f[2]=D=>i.value=D)},null,512),[[eu,i.value]]),u("button",{style:{marginLeft:"32px"},onClick:h,disabled:!i.value},"\u70B9\u51FB\u53D1\u8D77\u8BF7\u6C42",8,ie),u("p",null,"status: "+C(l(R).status),1),l(R).data?(A(),d("div",Be," data: "+C(l(R).data),1)):b("",!0),l(R).status.value==="validating"?(A(),d("div",De,[ce,j(u("span",null,de,512),[[c,!0]])])):b("",!0)])],64)}}const he=M(I(_({},pe),{setup:fe}));var _e="./assets/ts.3f8a184f.png";const me=`// in models
const profileInfoData = createSwrData((profileId) => fetcher({ profileId }));
// in setup
<script lang="ts" setup>
import profileInfoData from './models/useProfileInfo';
// \u5F53\u77E5\u9053\u4E86\u524D\u7F6E\u4F9D\u8D56\u6570\u636EdependentData\uFF0C\u5C31\u53EF\u4EE5\u5728\u4EFB\u610F\u5730\u70B9\u901A\u8FC7use\u6765\u89E6\u53D1\u5B83\u53D6\u6570\u3002
const { data: profileInfo, status } = profileInfoData.use(dependentData);
<\/script>
`,ge=`// in models
import createFetcher from '@utils/createFetcher';
import createSwrData from '@utils/swr-store';

const fetcher = createFetcher('/api/signIn');

interface Variables {
    account: string;
    password: string;
}

const useSignIn = createSwrData<any, any, Variables>((variables) => fetcher(variables), { manual: true });

export default useSignIn;


// in template
<template>
    <el-form label-width="100px">
        <el-form-item label="\u8D26\u6237" prop="account">
            <el-input v-model="account"></el-input>
        </el-form-item>
        <el-form-item label="\u5BC6\u7801" prop="password">
            <el-input v-model="password"></el-input>
        </el-form-item>
        <el-form-item>
            <el-button
                @click="signIn({ account, password })"
                :disabled="!account || !password"
                :loading="status === 'validating'"
            >
                \u767B\u5F55
            </el-button>
        </el-form-item>
    </el-form>
</template>

//in setup
<script lang="ts" setup>
import useSignIn from './models/useSignIn';
const { error, status, run: signIn } = useSignIn;

let account = $ref('');
let password = $ref('');
<\/script>




// run\u7684\u8FD4\u56DE\u503C\u5C31\u662Ffetcher\u7684\u7ED3\u679C
import { watch } from 'vue';
import createFetcher from '@utils/createFetcher';
import createSwrData from '@utils/swr-store';
import router from '@router/index';
import { ElMessage } from 'element-plus'

const fetcher = createFetcher('/api/signIn');
const { run, status, error } = createSwrData<any, any, Variables>((variables) => fetcher(variables), { manual: true });

// \u53EF\u4EE5\u7528\u6B63\u5E38\u7684\u5BF9\u5F85\u4E00\u4E2A\u8BF7\u6C42\u7684\u601D\u7EF4\u6765\u5199
const handleSignIn = () => {
    useSignIn.run(variables)
        .then(() => {
            // \u4E4B\u524D\u8BF4\u8FC7: \u9700\u8981\u4E2A\u53EF\u4EE5\u5728js\u5C42\u8C03\u7528\u7684\uFF0C\u53EF\u4EE5\u652F\u6301\u76F4\u63A5\u4F20\u5165modal.vue\u6587\u4EF6\u6765\u6E32\u67D3\u4EFB\u610F\u5185\u5BB9\u7684\u5F39\u6846\uFF0C\u624D\u80FD\u5F7B\u5E95\u628A\u4E1A\u52A1\u903B\u8F91\u62BD\u79BB\u3002\u8FD9\u91CC\u4EE5\u7B80\u5355\u7684ElMessage\u4E3A\u4F8B\u610F\u601D\u4E00\u4E0B\u3002
            ElMessage.success('\u767B\u5F55\u6210\u529F');
            router.push('/next');
        })
        .catch(() =>  ElMessage.error('\u5BC6\u7801\u9519\u4E86'));
}

// \u4E5F\u53EF\u4EE5\u7528\u770B\u5F85\u751F\u547D\u5468\u671F\u7684\u601D\u7EF4\u6765\u5199
watch(() => status.value, (newStatus) => {
    if (newStatus !== 'success') return;
    router.push('/next');
    ElMessage.success('\u767B\u5F55\u6210\u529F');
});
watch(() => error.value, () => {
    ElMessage.error('\u5BC6\u7801\u9519\u4E86');
});
`,ve=W("/api/signIn"),iu=q(o=>ve(o),{manual:!0}),be=o=>{iu.run(o).then(()=>N.success("\u767B\u5F55\u6210\u529F")).catch(()=>N.error("\u5BC6\u7801\u9519\u4E86"))},Ie=u("h3",null,"\u6258\u7BA1\u7EAF\u7CB9\u8BF7\u6C42:",-1),we=u("p",null,"\u4E0A\u4E24\u9875\u8BB2\u7684\u662F\u8FDC\u7AEF\u6570\u636E\uFF0C\u8FD9\u4E00\u9875\u8BB2\u7684\u662F\u7EAF\u7CB9\u8BF7\u6C42\u3002\u5B83\u4FE9\u540C\u6837\u662Fhttp\u8BF7\u6C42\uFF0C\u90FD\u6709\u8FD4\u56DE\u503C\u3002\u6240\u4EE5\u7EAF\u7CB9\u8BF7\u6C42\u4E0E\u8FDC\u7AEF\u6570\u636E\u6700\u672C\u8D28\u7684\u533A\u522B\u662F\u4EC0\u4E48\u5462?",-1),$e=u("p",null,' \u4E3E\u4E2A\u4F8B\u5B50: \u4ECEapi\u4E0A\u770B\uFF0C\u8FDC\u7AEF\u6570\u636E\u7684\u8FD4\u56DE\u503C\u662F\u8FD9\u6837\u7684: { code: 1, message: "success", data: { someData }}; \u7EAF\u7CB9\u8BF7\u6C42\u7684\u8FD4\u56DE\u503C\u662F\u8FD9\u6837\u5B50\u7684: { code: 1, message: "success" }\u3002 ',-1),ye=u("p",null,"\u7EAF\u7CB9\u8BF7\u6C42\u5E76\u4E0D\u9700\u8981\u5BF9\u5E94\u7684data\u6570\u636E\uFF0C\u81EA\u7136\u4E5F\u6CA1\u6709\u7F13\u5B58\u8FD9\u4E2A\u6982\u5FF5\u3002\u5BF9\u5E94\u5728\u89C6\u56FE\u5C42\uFF0C\u4E00\u822C\u4E5F\u6CA1\u6709\u8981\u663E\u793A\u7684\u5185\u5BB9\u3002\u4F46\u662F\u8FD8\u662F\u9700\u8981\u54CD\u5E94\u5F0F\u7684status\u53CD\u5E94\u5728\u89E6\u53D1\u7EAF\u7CB9\u8BF7\u6C42\u7684\u4EA4\u4E92\u5757\u4E0A\uFF0C\u6BD4\u5982\u4E00\u4E2A\u6309\u94AE\u3002",-1),ke=u("p",null,[E("\u8FDC\u7AEF\u6570\u636E\u6709\u5176 "),u("b",null,"\u6570\u636E\u7684\u751F\u547D\u5468\u671F\uFF0C"),E("\u7EAF\u7CB9\u8BF7\u6C42\u6211\u4E5F\u751F\u9020\u4E86\u4E2A "),u("b",null,"\u8BF7\u6C42\u7684\u751F\u547D\u5468\u671F"),E(" \u6982\u5FF5\u3002\u53CD\u5E94\u5728status\u4E0A\uFF0C\u4ED6\u4EEC\u76F8\u4F3C\u800C\u4E0D\u76F8\u540C: 'pending' | 'validating' | 'success' | 'error' | 'error_retry'\u3002\u7EAF\u7CB9\u8BF7\u6C42\u7684\u751F\u547D\u5468\u671F\u7B80\u5355\u7684\u591A\u3002")],-1),Se=u("br",null,null,-1),Pe=u("p",null,"\u4E0A\u4E00\u9875\u672B\u5C3E\u7684\u4F8B\u5B50\u4E2D\uFF0C\u4ECB\u7ECD\u4E86\u4E00\u79CD\u8FDC\u7AEF\u6570\u636E \u4F9D\u8D56\u4E8E \u9700\u8981\u624B\u52A8\u586B\u53C2\u7684\u524D\u7F6E\u6570\u636E \u7684\u60C5\u51B5",-1),xe=u("br",null,null,-1),Me=u("p",null,"\u7EAF\u7CB9\u8BF7\u6C42\u7684\u4E0E\u5176\u7C7B\u4F3C\uFF0C\u4F46\u662F\u9700\u8981\u5728createSwrData\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E2D\u663E\u5F0F\u58F0\u660E{ manual: true }\u3002",-1),Ke=u("p",null,"\u76F8\u6BD4\u4E0E\u6258\u7BA1\u8FDC\u7AEF\u6570\u636E\uFF0C\u6258\u7BA1\u7EAF\u7CB9\u8BF7\u6C42\u7684create\u8FD4\u56DE\u503C\u4E3Adata(\u5982\u679Cfetcher\u8FD4\u56DE\u91CC\u6709\uFF0C\u7167\u6837\u7ED9)\uFF0Cerror\uFF0Cstatus\uFF0Crun\u3002\u6CA1\u6709mutate\uFF0C\u56E0\u4E3A\u6CA1\u6709\u5BF9\u5E94\u6570\u636E\u53EF\u4EE5mutate\u3002",-1),Xe=u("p",null,"\u7C7B\u6BD4\u4E0A\u9762\u7684\u4F8B\u5B50\uFF0C\u6CA1\u6709\u5BFC\u51FAuse\u51FD\u6570\uFF0C\u800C\u5BFC\u51FA\u4E86\u4E00\u4E2Arun\u51FD\u6570\u3002\u5B83\u4EEC\u7684\u533A\u522B\u662F\uFF0Cuse\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u662F{ data, error, status }\u4EE3\u8868\u6570\u636E\u7684\u72B6\u6001\uFF0Crun\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u662Ffetcher\u7684\u7ED3\u679C\u3002",-1),Ve=u("p",null,"\u4EE5\u767B\u5F55\u8BF7\u6C42\u4E3A\u4F8B:",-1),je=u("h4",null,"example: \u8D26\u53F7\u4EFB\u610F\uFF0C\u6B63\u786E\u5BC6\u7801\u4E3A123",-1),qe=E(" \u767B\u5F55 "),Re=u("br",null,null,-1),Le=u("h4",null,"\u6CDB\u578B\u53EF\u4EE5\u533A\u5206\u51FA\u6258\u7BA1\u8FDC\u7AEF\u6570\u636E\u548C\u6258\u7BA1\u7EAF\u7CB9\u8BF7\u6C42\u7684\u4E0D\u540C",-1),Oe=u("img",{src:_e},null,-1),Ue=E("> "),Ne={name:"Manual"};function We(o){const{error:F,status:e,run:a}=iu;let t=w(""),s=w("");return(r,i)=>{const h=p("prism"),x=p("el-input"),f=p("el-form-item"),$=p("el-button"),c=p("el-form");return A(),d(g,null,[Ie,we,$e,ye,ke,Se,Pe,n(h,{language:"javascript"},{default:B(()=>[E(C(l(me)),1)]),_:1}),xe,Me,Ke,Xe,Ve,n(h,{language:"javascript"},{default:B(()=>[E(C(l(ge)),1)]),_:1}),je,n(c,{"label-width":"100px"},{default:B(()=>[n(f,{label:"\u8D26\u6237",prop:"account"},{default:B(()=>[n(x,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=D=>t.value=D)},null,8,["modelValue"])]),_:1}),n(f,{label:"\u5BC6\u7801",prop:"password"},{default:B(()=>[n(x,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=D=>s.value=D)},null,8,["modelValue"])]),_:1}),n(f,null,{default:B(()=>[n($,{onClick:i[2]||(i[2]=D=>l(be)({account:t.value,password:s.value})),disabled:!t.value||!s.value,loading:l(e)==="validating"},{default:B(()=>[qe]),_:1},8,["disabled","loading"])]),_:1})]),_:1}),u("p",null,"status: "+C(l(e)),1),u("p",null,"error: "+C(l(F)),1),Re,Le,Oe,Ue],64)}}const He=M(I(_({},Ne),{setup:We})),Te=[{path:"/",component:O5},{path:"/hooks",component:f5},{path:"/swr",component:f6},{path:"/swr_store",component:E6},{path:"/introduce_end",component:a5},{path:"/usage_basic",component:P0},{path:"/usage_dependent",component:he},{path:"/usage_manual",component:He}],ze=mu({history:gu(),routes:Te,scrollBehavior(o,F,e){return e||{top:0}}});var Ge=[{url:"/api/signIn",method:"post",timeout:1500,response:({body:{account:o,password:F}})=>o&&F==="123"?{code:1,message:"Success"}:{code:0,message:"Error Password"}}];function Bu(o,F){return o=Math.ceil(o),F=Math.floor(F),Math.floor(Math.random()*(F-o+1))+o}var Je=[{url:"/api/getProfileInfo_immutable",method:"get",timeout:1500,response:()=>Bu(0,1)===0?Bu(0,1)===0?{code:-1,message:"\u9519\u8BEF\u539F\u56E01"}:{code:0,message:"\u9519\u8BEF\u539F\u56E02"}:{code:1,message:"Success",data:{ownerEmail:"profileInfo@test.com",domain:"profileInfo.com",date:new Date}}},{url:"/api/getProfileInfo_mutable",method:"post",timeout:1500,response:({body:{profileId:o}})=>o!=null?{code:1,message:"Success",data:{profileId:o,ownerEmail:Fu.mock("@email"),domain:Fu.mock("@domain"),date:new Date}}:{code:0,message:"Error profileId"}}];function Ye(){vu([...Ge,...Je])}const V=bu(E5),Qe=[$u,yu,ku,Su,Pu,xu,Mu],Ze=[N];Qe.forEach(o=>V.component(o.name,o));Ze.forEach(o=>V.use(o));V.component("Prism",Iu);V.use(wu);V.use(ze);V.mount("#app");Ye();
